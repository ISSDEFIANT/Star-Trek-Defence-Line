using UnityEngine;
using System.Collections;
using System.Xml.Linq;

public class ObjectDataToSave : MonoBehaviour {
	public bool SystemIsReadyToUse;

	private SameGameSystem _SGS;
	private HealthModule _HP;
	//Класс - переемнная. Должна содержать точное название Prefeb. По этому элементу будет определяться, что будет появляться при загрузки.
	public string Class;
	public string Name;

	public bool SetAI;
	public bool SetFAI;
	public bool SetReadyShip;

	public bool ReadyShip;


	public Vector3 SetMoveTransform;
	public Vector3 GetMoveTransform;

	public bool GetAI;
	public bool GetFAI;
	public string GetSSName;

	public Vector3 RotationVector;

	public GameObject AIOwner;
	public GameObject GetAIOwner;

	public float GetHeath;
	public float GetShild;
	public float GetEnergy;

	public float GetCrew;

	public float GetImpulse;
	public float GetLifeSupport;
	public float GetPrimaryWeapon;
	public float GetSensors;
	public float GetTractorBeam;
	public float GetWarpEnging;
	public float GetWarpCore;
	public float GetSecondaryWeapon;

	public bool Get0;
	public bool Get1;
	public bool Get2;
	public bool Get3;
	public bool Get4;
	public bool Get5;
	public bool Get6;
	public bool Get7;
	public bool Get8;
	public bool Get9;

	public float SBuildCurTime;

	public int SBuildShipsCount;

	public float SBuildTime1;
	public string SBuildClass1;
	public int SBuildNumper1;
	public float SBuildTitanium1;
	public float SBuildDilithium1;
	public float SBuildHumans1;
	public bool SBuildBuilder1;
	public bool SBuildMiner1;
	public bool SBuildBaseFleet1;
	public bool SBuildAttackFleet1;
	public bool SBuildScoutFleet1;
	public float SBuildOpenTime1;

	public float SBuildTime2;
	public string SBuildClass2;
	public int SBuildNumper2;
	public float SBuildTitanium2;
	public float SBuildDilithium2;
	public float SBuildHumans2;
	public bool SBuildBuilder2;
	public bool SBuildMiner2;
	public bool SBuildBaseFleet2;
	public bool SBuildAttackFleet2;
	public bool SBuildScoutFleet2;
	public float SBuildOpenTime2;

	public float SBuildTime3;
	public string SBuildClass3;
	public int SBuildNumper3;
	public float SBuildTitanium3;
	public float SBuildDilithium3;
	public float SBuildHumans3;
	public bool SBuildBuilder3;
	public bool SBuildMiner3;
	public bool SBuildBaseFleet3;
	public bool SBuildAttackFleet3;
	public bool SBuildScoutFleet3;
	public float SBuildOpenTime3;

	public float SBuildTime4;
	public string SBuildClass4;
	public int SBuildNumper4;
	public float SBuildTitanium4;
	public float SBuildDilithium4;
	public float SBuildHumans4;
	public bool SBuildBuilder4;
	public bool SBuildMiner4;
	public bool SBuildBaseFleet4;
	public bool SBuildAttackFleet4;
	public bool SBuildScoutFleet4;
	public float SBuildOpenTime4;

	public float SBuildTime5;
	public string SBuildClass5;
	public int SBuildNumper5;
	public float SBuildTitanium5;
	public float SBuildDilithium5;
	public float SBuildHumans5;
	public bool SBuildBuilder5;
	public bool SBuildMiner5;
	public bool SBuildBaseFleet5;
	public bool SBuildAttackFleet5;
	public bool SBuildScoutFleet5;
	public float SBuildOpenTime5;

	public float GBuildCurTime;

	public int GSBuildShipsCount;

	public float GBuildTime1;
	public string GBuildClass1;
	public int GBuildNumper1;
	public float GBuildTitanium1;
	public float GBuildDilithium1;
	public float GBuildHumans1;
	public bool GBuildBuilder1;
	public bool GBuildMiner1;
	public bool GBuildBaseFleet1;
	public bool GBuildAttackFleet1;
	public bool GBuildScoutFleet1;
	public float GBuildOpenTime1;

	public float GBuildTime2;
	public string GBuildClass2;
	public int GBuildNumper2;
	public float GBuildTitanium2;
	public float GBuildDilithium2;
	public float GBuildHumans2;
	public bool GBuildBuilder2;
	public bool GBuildMiner2;
	public bool GBuildBaseFleet2;
	public bool GBuildAttackFleet2;
	public bool GBuildScoutFleet2;
	public float GBuildOpenTime2;

	public float GBuildTime3;
	public string GBuildClass3;
	public int GBuildNumper3;
	public float GBuildTitanium3;
	public float GBuildDilithium3;
	public float GBuildHumans3;
	public bool GBuildBuilder3;
	public bool GBuildMiner3;
	public bool GBuildBaseFleet3;
	public bool GBuildAttackFleet3;
	public bool GBuildScoutFleet3;
	public float GBuildOpenTime3;

	public float GBuildTime4;
	public string GBuildClass4;
	public int GBuildNumper4;
	public float GBuildTitanium4;
	public float GBuildDilithium4;
	public float GBuildHumans4;
	public bool GBuildBuilder4;
	public bool GBuildMiner4;
	public bool GBuildBaseFleet4;
	public bool GBuildAttackFleet4;
	public bool GBuildScoutFleet4;
	public float GBuildOpenTime4;

	public float GBuildTime5;
	public string GBuildClass5;
	public int GBuildNumper5;
	public float GBuildTitanium5;
	public float GBuildDilithium5;
	public float GBuildHumans5;
	public bool GBuildBuilder5;
	public bool GBuildMiner5;
	public bool GBuildBaseFleet5;
	public bool GBuildAttackFleet5;
	public bool GBuildScoutFleet5;
	public float GBuildOpenTime5;

	private float DelayTime;
	private bool DelayComplit;
	private bool Moov;
	private bool IsLoad;

	public float GetID;
	public float SetID;

	public float GetTargetID;
	public float SetTargetID;

	public bool GetAssimilated;
	public bool SetAssimilated;

	public int GetLevel;
	public int SetLevel;

	public string GetRace;
	public string SetRace;

	public int GetCapNum;
	public int SetCapNum;

	public bool GetIsMine;
	public bool SetIsMine;

	public bool GetDilMine;
	public bool SetDilMine;

	public bool GetTitMine;
	public bool SetTitMine;

	public bool GetCrewMine;
	public bool SetCrewMine;

	public float GetFixID;
	public float SetFixID;

	private XElement RElement;
	// Use this for initialization
	public void LoadShipList(){
		if (SBuildShipsCount >= 1) {
			gameObject.GetComponent<ShipBuild> ().timeBuild = SBuildCurTime;
			gameObject.GetComponent<ShipBuild> ().Время.Add (SBuildTime1);
			gameObject.GetComponent<ShipBuild> ().Корабль.Add (Resources.Load<GameObject> (SBuildClass1));
			gameObject.GetComponent<ShipBuild> ().ListofNumbers.Add (SBuildNumper1);
			gameObject.GetComponent<ShipBuild> ().Titanium.Add (SBuildTitanium1);
			gameObject.GetComponent<ShipBuild> ().Dilithium.Add (SBuildDilithium1);
			gameObject.GetComponent<ShipBuild> ().Humans.Add (SBuildHumans1);
			gameObject.GetComponent<ShipBuild> ().Builder.Add (SBuildBuilder1);
			gameObject.GetComponent<ShipBuild> ().Miner.Add (SBuildMiner1);
			gameObject.GetComponent<ShipBuild> ().BaseFleet.Add (SBuildBaseFleet1);
			gameObject.GetComponent<ShipBuild> ().AttackFleet.Add (SBuildAttackFleet1);
			gameObject.GetComponent<ShipBuild> ().ScoutFleet.Add (SBuildScoutFleet1);
			gameObject.GetComponent<ShipBuild> ().OpenTime.Add (SBuildOpenTime1);
		}
		if (SBuildShipsCount >= 2) {
			gameObject.GetComponent<ShipBuild> ().Время.Add (SBuildTime2);
			gameObject.GetComponent<ShipBuild> ().Корабль.Add (Resources.Load<GameObject> (SBuildClass2));
			gameObject.GetComponent<ShipBuild> ().ListofNumbers.Add (SBuildNumper2);
			gameObject.GetComponent<ShipBuild> ().Titanium.Add (SBuildTitanium2);
			gameObject.GetComponent<ShipBuild> ().Dilithium.Add (SBuildDilithium2);
			gameObject.GetComponent<ShipBuild> ().Humans.Add (SBuildHumans2);
			gameObject.GetComponent<ShipBuild> ().Builder.Add (SBuildBuilder2);
			gameObject.GetComponent<ShipBuild> ().Miner.Add (SBuildMiner2);
			gameObject.GetComponent<ShipBuild> ().BaseFleet.Add (SBuildBaseFleet2);
			gameObject.GetComponent<ShipBuild> ().AttackFleet.Add (SBuildAttackFleet2);
			gameObject.GetComponent<ShipBuild> ().ScoutFleet.Add (SBuildScoutFleet2);
			gameObject.GetComponent<ShipBuild> ().OpenTime.Add (SBuildOpenTime2);
		}
		if (SBuildShipsCount >= 3) {
			gameObject.GetComponent<ShipBuild> ().Время.Add (SBuildTime3);
			gameObject.GetComponent<ShipBuild> ().Корабль.Add (Resources.Load<GameObject> (SBuildClass3));
			gameObject.GetComponent<ShipBuild> ().ListofNumbers.Add (SBuildNumper3);
			gameObject.GetComponent<ShipBuild> ().Titanium.Add (SBuildTitanium3);
			gameObject.GetComponent<ShipBuild> ().Dilithium.Add (SBuildDilithium3);
			gameObject.GetComponent<ShipBuild> ().Humans.Add (SBuildHumans3);
			gameObject.GetComponent<ShipBuild> ().Builder.Add (SBuildBuilder3);
			gameObject.GetComponent<ShipBuild> ().Miner.Add (SBuildMiner3);
			gameObject.GetComponent<ShipBuild> ().BaseFleet.Add (SBuildBaseFleet3);
			gameObject.GetComponent<ShipBuild> ().AttackFleet.Add (SBuildAttackFleet3);
			gameObject.GetComponent<ShipBuild> ().ScoutFleet.Add (SBuildScoutFleet3);
			gameObject.GetComponent<ShipBuild> ().OpenTime.Add (SBuildOpenTime3);
		}
		if (SBuildShipsCount >= 4) {
			gameObject.GetComponent<ShipBuild> ().Время.Add (SBuildTime4);
			gameObject.GetComponent<ShipBuild> ().Корабль.Add (Resources.Load<GameObject> (SBuildClass4));
			gameObject.GetComponent<ShipBuild> ().ListofNumbers.Add (SBuildNumper4);
			gameObject.GetComponent<ShipBuild> ().Titanium.Add (SBuildTitanium4);
			gameObject.GetComponent<ShipBuild> ().Dilithium.Add (SBuildDilithium4);
			gameObject.GetComponent<ShipBuild> ().Humans.Add (SBuildHumans4);
			gameObject.GetComponent<ShipBuild> ().Builder.Add (SBuildBuilder4);
			gameObject.GetComponent<ShipBuild> ().Miner.Add (SBuildMiner4);
			gameObject.GetComponent<ShipBuild> ().BaseFleet.Add (SBuildBaseFleet4);
			gameObject.GetComponent<ShipBuild> ().AttackFleet.Add (SBuildAttackFleet4);
			gameObject.GetComponent<ShipBuild> ().ScoutFleet.Add (SBuildScoutFleet4);
			gameObject.GetComponent<ShipBuild> ().OpenTime.Add (SBuildOpenTime4);
		}
		if (SBuildShipsCount >= 5) {
			gameObject.GetComponent<ShipBuild> ().Время.Add (SBuildTime5);
			gameObject.GetComponent<ShipBuild> ().Корабль.Add (Resources.Load<GameObject> (SBuildClass5));
			gameObject.GetComponent<ShipBuild> ().ListofNumbers.Add (SBuildNumper5);
			gameObject.GetComponent<ShipBuild> ().Titanium.Add (SBuildTitanium5);
			gameObject.GetComponent<ShipBuild> ().Dilithium.Add (SBuildDilithium5);
			gameObject.GetComponent<ShipBuild> ().Humans.Add (SBuildHumans5);
			gameObject.GetComponent<ShipBuild> ().Builder.Add (SBuildBuilder5);
			gameObject.GetComponent<ShipBuild> ().Miner.Add (SBuildMiner5);
			gameObject.GetComponent<ShipBuild> ().BaseFleet.Add (SBuildBaseFleet5);
			gameObject.GetComponent<ShipBuild> ().AttackFleet.Add (SBuildAttackFleet5);
			gameObject.GetComponent<ShipBuild> ().ScoutFleet.Add (SBuildScoutFleet5);
			gameObject.GetComponent<ShipBuild> ().OpenTime.Add (SBuildOpenTime5);
		}
	}

	public void LoadSomeData(){
		IsLoad = true;
		if (!gameObject.GetComponent<BuildingStationScript> () && !gameObject.GetComponent<CameraMove>()) {
			gameObject.GetComponent<Captan> ().CaptanNum = SetCapNum;
			gameObject.GetComponent<Captan> ().Race = SetRace;
			if (gameObject.GetComponent<HealthModule> ()) {
				_HP.Team0 = Get0;
				_HP.Team1 = Get1;
				_HP.Team2 = Get2;
				_HP.Team3 = Get3;
				_HP.Team4 = Get4;
				_HP.Team5 = Get5;
				_HP.Team6 = Get6;
				_HP.Team7 = Get7;
				_HP.Team8 = Get8;
				_HP.Team9 = Get9;
				if (Get0) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num0.Add (gameObject);
				}
				if (Get1) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num1.Add (gameObject);
				}
				if (Get2) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num2.Add (gameObject);
				}
				if (Get3) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num3.Add (gameObject);
				}
				if (Get4) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num4.Add (gameObject);
				}
				if (Get5) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num5.Add (gameObject);
				}
				if (Get6) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num6.Add (gameObject);
				}
				if (Get7) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num7.Add (gameObject);
				}
				if (Get8) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num8.Add (gameObject);
				}
				if (Get9) {
					GameObject.FindGameObjectWithTag ("MainUI").GetComponent<CtrlNum> ().Num9.Add (gameObject);
				}
			}
			if (_HP.Ship) {
				if (ReadyShip) {
					gameObject.GetComponent<ActiveState> ().Build = true;
					gameObject.GetComponent<ActiveState> ().isFlag = false;
				}

				gameObject.GetComponent<Stats> ().AI = GetAI;
				gameObject.GetComponent<Stats> ().FreandAI = GetFAI;
				gameObject.GetComponent<Stats> ().Name = GetSSName;
				gameObject.GetComponent<Stats> ().Owner = GetAIOwner;

				gameObject.GetComponent<Stats> ().Assimilated = SetAssimilated;
				if (gameObject.GetComponent<Miner> ()) {
					gameObject.GetComponent<Miner> ().TargetDilithium = SetDilMine;
					gameObject.GetComponent<Miner> ().TargetTitanium = SetTitMine;
					gameObject.GetComponent<Miner> ().TargetHuman =SetCrewMine;
					gameObject.GetComponent<Miner> ().enabled = SetIsMine;
				}
			}
			if (_HP.Station) {
				Station _sb = gameObject.GetComponent<Station>();

				_sb.AI = GetAI;
				_sb.FreandAI = GetFAI;
				_sb.Owner = GetAIOwner;

				//gameObject.GetComponent<Castle> ().lvl = SetLevel;
				//if (SetFixID != 0) {
				//	gameObject.GetComponent<Castle> ().Repair = true;
				//	gameObject.GetComponent<Castle> ().R1 = true;
				//	gameObject.GetComponent<Castle> ().Ship = GameObject.Find (SetFixID.ToString()).GetComponent<ObjectID>().Owner;
				//}
			}
			_HP.curHealth = GetHeath;
			_HP.CurСилаПоля = GetShild;
			_HP.curEnergy = GetEnergy;

			_HP.curCrew = GetCrew;

			_HP.curImpulseSystemHealth = GetImpulse;
			_HP.curLifeSupportSystemHealth = GetLifeSupport;
			_HP.curPrimaryWeaponSystemHealth = GetPrimaryWeapon;
			_HP.curSensorsSystemHealth = GetSensors;
			_HP.curTractorBeamSystemHealth = GetTractorBeam;
			_HP.curWarpEngingSystemHealth = GetWarpEnging;
			_HP.curWarpCoreHealth = GetWarpCore;
			_HP.curSecondaryWeaponSystemHealth = GetSecondaryWeapon;
		} else if(gameObject.GetComponent<BuildingStationScript>()){
			gameObject.GetComponent<BuildingStationScript> ().AI = GetAI;
			gameObject.GetComponent<BuildingStationScript> ().FreandAI = GetFAI;
			gameObject.GetComponent<BuildingStationScript> ().Owner = GetAIOwner;
			gameObject.GetComponent<BuildingStationScript> ().Timer = GetHeath;
		}
	}

	private void Awake () {
		_SGS = FindObjectOfType<SameGameSystem> ();
		if (!gameObject.GetComponent<BuildingStationScript> ()) {
			_HP = gameObject.GetComponent<HealthModule> ();
		}
		_SGS.SaveObjects.Add (this);
		DelayTime = 1;
	}

	private void Start () {
		
	}

	private void OnDestroy(){
		_SGS.SaveObjects.Remove (this);
	}
	//Я использую один скрипт для сохранения разных объектов, по этому приходится собирать данные в этот скрипт через Update. Тут же поворот.
	void Update(){
		if (SystemIsReadyToUse) {
			if (gameObject.GetComponent<Shop> () || gameObject.GetComponent<Castle> ()) {
				if (gameObject.GetComponent<Shop> ()) {
					if (gameObject.GetComponent<Shop> ().Ship != null) {
						GetFixID = gameObject.GetComponent<Shop> ().Ship.GetComponent<ObjectDataToSave> ().GetID;
					} else {
						GetFixID = 0;
					}
				} else if (gameObject.GetComponent<Castle> ()) {
					if (gameObject.GetComponent<Castle> ().Ship != null) {
						GetFixID = gameObject.GetComponent<Castle> ().Ship.GetComponent<ObjectDataToSave> ().GetID;
					} else {
						GetFixID = 0;
					}
				}
			} else {
				GetFixID = 0;
			}
			if (gameObject.GetComponent<Miner> ()) {
				GetDilMine = gameObject.GetComponent<Miner> ().TargetDilithium;
				GetTitMine = gameObject.GetComponent<Miner> ().TargetTitanium;
				GetCrewMine = gameObject.GetComponent<Miner> ().TargetHuman;
				GetIsMine = gameObject.GetComponent<Miner> ().enabled;
			} else {
				GetDilMine = false;
				GetTitMine = false;
				GetCrewMine = false;
				GetIsMine = false;
			}
			if (gameObject.GetComponent<Captan> ()) {
				GetRace = gameObject.GetComponent<Captan> ().Race;
				GetCapNum = gameObject.GetComponent<Captan> ().CaptanNum;
			} else {
				GetRace = System.String.Empty;
				GetCapNum = 0;
			}
			RotationVector = transform.rotation.eulerAngles;
			if (!gameObject.GetComponent<BuildingStationScript> () && !gameObject.GetComponent<CameraMove> ()) {
				if (_HP.Ship) {
					if (gameObject.GetComponent<Stats> ().miner) {
						if (gameObject.GetComponent<Builder> ().BuilderTarget != null) {
							GetTargetID = gameObject.GetComponent<Builder> ().BuilderTarget.GetComponent<ObjectDataToSave> ().GetID;
						} else {
							GetTargetID = 0;
						}
					} else {
						if (gameObject.GetComponent<Stats> ().targetTransform != null) {
							GetTargetID = gameObject.GetComponent<Stats> ().targetTransform.GetComponent<ObjectDataToSave> ().GetID;
						} else {
							GetTargetID = 0;
						}
					}
					if (IsLoad) {
						if (!DelayComplit) {
							if (DelayTime > 0) {
								DelayTime -= Time.deltaTime;
							}
							if (DelayTime <= 0) {
								DelayComplit = true;
								DelayTime = 100;
							}
						} else {
							if (!Moov) {
								gameObject.GetComponent<Stats> ().instruction = Stats.enInstruction.move;
								gameObject.GetComponent<Stats> ().targetVector = GetMoveTransform;
								if (SetTargetID != 0) {
									if (gameObject.GetComponent<Stats> ().miner) {
										gameObject.GetComponent<Builder> ().BuilderTarget = GameObject.Find (SetTargetID.ToString ()).GetComponent<ObjectID> ().Owner;
									} else {
										gameObject.GetComponent<Stats> ().targetTransform = GameObject.Find (SetTargetID.ToString ()).GetComponent<ObjectID> ().Owner.transform;
									}
								}
								Moov = true;
							}
						}
					}
					SetAI = gameObject.GetComponent<Stats> ().AI;
					SetFAI = gameObject.GetComponent<Stats> ().FreandAI;
					SetMoveTransform = gameObject.GetComponent<Stats> ().targetVector;
					SetReadyShip = gameObject.GetComponent<ActiveState> ().Build;
					Name = gameObject.GetComponent<Stats> ().Name;
					if (gameObject.GetComponent<Stats> ().AI || gameObject.GetComponent<Stats> ().FreandAI) {
						AIOwner = gameObject.GetComponent<Stats> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = 0;
					GSBuildShipsCount = 0;
					GBuildTime1 = 0;

					GBuildClass1 = System.String.Empty;

					GBuildNumper1 = 0;

					GBuildTitanium1 = 0;
					GBuildDilithium1 = 0;
					GBuildHumans1 = 0;

					GBuildBuilder1 = false;
					GBuildMiner1 = false;
					GBuildBaseFleet1 = false;
					GBuildAttackFleet1 = false;
					GBuildScoutFleet1 = false;

					GBuildOpenTime1 = 0;

					GBuildTime2 = 0;

					GBuildClass2 = System.String.Empty;

					GBuildNumper2 = 0;

					GBuildTitanium2 = 0;
					GBuildDilithium2 = 0;
					GBuildHumans2 = 0;

					GBuildBuilder2 = false;
					GBuildMiner2 = false;
					GBuildBaseFleet2 = false;
					GBuildAttackFleet2 = false;
					GBuildScoutFleet2 = false;

					GBuildOpenTime2 = 0;

					GBuildTime3 = 0;

					GBuildClass3 = System.String.Empty;

					GBuildNumper3 = 0;

					GBuildTitanium3 = 0;
					GBuildDilithium3 = 0;
					GBuildHumans3 = 0;

					GBuildBuilder3 = false;
					GBuildMiner3 = false;
					GBuildBaseFleet3 = false;
					GBuildAttackFleet3 = false;
					GBuildScoutFleet3 = false;

					GBuildOpenTime3 = 0;

					GBuildTime4 = 0;

					GBuildClass4 = System.String.Empty;

					GBuildNumper4 = 0;

					GBuildTitanium4 = 0;
					GBuildDilithium4 = 0;
					GBuildHumans4 = 0;

					GBuildBuilder4 = false;
					GBuildMiner4 = false;
					GBuildBaseFleet4 = false;
					GBuildAttackFleet4 = false;
					GBuildScoutFleet4 = false;

					GBuildOpenTime4 = 0;

					GBuildTime5 = 0;

					GBuildClass5 = System.String.Empty;

					GBuildNumper5 = 0;

					GBuildTitanium5 = 0;
					GBuildDilithium5 = 0;
					GBuildHumans5 = 0;

					GBuildBuilder5 = false;
					GBuildMiner5 = false;
					GBuildBaseFleet5 = false;
					GBuildAttackFleet5 = false;
					GBuildScoutFleet5 = false;

					GBuildOpenTime5 = 0;

					GetAssimilated = gameObject.GetComponent<Stats> ().Assimilated;
					GetLevel = 0;
				}
				if (_HP.Castle) {
					if (!DelayComplit) {
						if (DelayTime > 0) {
							DelayTime -= Time.deltaTime;
						}
						if (DelayTime <= 0) {
							LoadShipList ();
							DelayComplit = true;
							DelayTime = 100;
						}
					} else {
						if (gameObject.GetComponent<Castle> ()) {
							if (SetFixID != 0) {
								gameObject.GetComponent<Castle> ().Repair = true;
								gameObject.GetComponent<Castle> ().Ship = GameObject.Find (SetFixID.ToString ()).GetComponent<ObjectID> ().Owner;
								if (Vector3.Distance (gameObject.GetComponent<Castle> ().Ship.transform.position, gameObject.GetComponent<Castle> ().RPoint2.transform.position) < 3) {
									gameObject.GetComponent<Castle> ().R2 = true;
								} else {
									gameObject.GetComponent<Castle> ().R1 = true;
								}
								SetFixID = 0;
							}
						}
					}
					GetLevel = gameObject.GetComponent<Castle> ().lvl;
					SetAI = gameObject.GetComponent<Castle> ().AI;
					SetFAI = gameObject.GetComponent<Castle> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<Castle> ().AI;
					SetMoveTransform = new Vector3 (0, 0, 0);
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<Castle> ().AI || gameObject.GetComponent<Castle> ().FreandAI) {
						AIOwner = gameObject.GetComponent<Castle> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = gameObject.GetComponent<ShipBuild> ().timeBuild;
					GSBuildShipsCount = gameObject.GetComponent<ShipBuild> ().Корабль.Count;
					if (GSBuildShipsCount >= 1) {
						GBuildTime1 = gameObject.GetComponent<ShipBuild> ().Время [0];

						GBuildClass1 = gameObject.GetComponent<ShipBuild> ().Корабль [0].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper1 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [0];

						GBuildTitanium1 = gameObject.GetComponent<ShipBuild> ().Titanium [0];
						GBuildDilithium1 = gameObject.GetComponent<ShipBuild> ().Dilithium [0];
						GBuildHumans1 = gameObject.GetComponent<ShipBuild> ().Humans [0];

						GBuildBuilder1 = gameObject.GetComponent<ShipBuild> ().Builder [0];
						GBuildMiner1 = gameObject.GetComponent<ShipBuild> ().Miner [0];
						GBuildBaseFleet1 = gameObject.GetComponent<ShipBuild> ().BaseFleet [0];
						GBuildAttackFleet1 = gameObject.GetComponent<ShipBuild> ().AttackFleet [0];
						GBuildScoutFleet1 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [0];

						GBuildOpenTime1 = gameObject.GetComponent<ShipBuild> ().OpenTime [0];
					} else {
						GBuildTime1 = 0;

						GBuildClass1 = "";

						GBuildNumper1 = 0;

						GBuildTitanium1 = 0;
						GBuildDilithium1 = 0;
						GBuildHumans1 = 0;

						GBuildBuilder1 = false;
						GBuildMiner1 = false;
						GBuildBaseFleet1 = false;
						GBuildAttackFleet1 = false;
						GBuildScoutFleet1 = false;

						GBuildOpenTime1 = 0;
					}

					if (GSBuildShipsCount >= 2) {
						GBuildTime2 = gameObject.GetComponent<ShipBuild> ().Время [1];

						GBuildClass2 = gameObject.GetComponent<ShipBuild> ().Корабль [1].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper2 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [1];

						GBuildTitanium2 = gameObject.GetComponent<ShipBuild> ().Titanium [1];
						GBuildDilithium2 = gameObject.GetComponent<ShipBuild> ().Dilithium [1];
						GBuildHumans2 = gameObject.GetComponent<ShipBuild> ().Humans [1];

						GBuildBuilder2 = gameObject.GetComponent<ShipBuild> ().Builder [1];
						GBuildMiner2 = gameObject.GetComponent<ShipBuild> ().Miner [1];
						GBuildBaseFleet2 = gameObject.GetComponent<ShipBuild> ().BaseFleet [1];
						GBuildAttackFleet2 = gameObject.GetComponent<ShipBuild> ().AttackFleet [1];
						GBuildScoutFleet2 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [1];

						GBuildOpenTime2 = gameObject.GetComponent<ShipBuild> ().OpenTime [1];
					} else {
						GBuildTime2 = 0;

						GBuildClass2 = "";

						GBuildNumper2 = 0;

						GBuildTitanium2 = 0;
						GBuildDilithium2 = 0;
						GBuildHumans2 = 0;

						GBuildBuilder2 = false;
						GBuildMiner2 = false;
						GBuildBaseFleet2 = false;
						GBuildAttackFleet2 = false;
						GBuildScoutFleet2 = false;

						GBuildOpenTime2 = 0;
					}

					if (GSBuildShipsCount >= 3) {
						GBuildTime3 = gameObject.GetComponent<ShipBuild> ().Время [2];

						GBuildClass3 = gameObject.GetComponent<ShipBuild> ().Корабль [2].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper3 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [2];

						GBuildTitanium3 = gameObject.GetComponent<ShipBuild> ().Titanium [2];
						GBuildDilithium3 = gameObject.GetComponent<ShipBuild> ().Dilithium [2];
						GBuildHumans3 = gameObject.GetComponent<ShipBuild> ().Humans [2];

						GBuildBuilder3 = gameObject.GetComponent<ShipBuild> ().Builder [2];
						GBuildMiner3 = gameObject.GetComponent<ShipBuild> ().Miner [2];
						GBuildBaseFleet3 = gameObject.GetComponent<ShipBuild> ().BaseFleet [2];
						GBuildAttackFleet3 = gameObject.GetComponent<ShipBuild> ().AttackFleet [2];
						GBuildScoutFleet3 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [2];

						GBuildOpenTime3 = gameObject.GetComponent<ShipBuild> ().OpenTime [2];
					} else {
						GBuildTime3 = 0;

						GBuildClass3 = "";

						GBuildNumper3 = 0;

						GBuildTitanium3 = 0;
						GBuildDilithium3 = 0;
						GBuildHumans3 = 0;

						GBuildBuilder3 = false;
						GBuildMiner3 = false;
						GBuildBaseFleet3 = false;
						GBuildAttackFleet3 = false;
						GBuildScoutFleet3 = false;

						GBuildOpenTime3 = 0;
					}

					if (GSBuildShipsCount >= 4) {
						GBuildTime4 = gameObject.GetComponent<ShipBuild> ().Время [3];

						GBuildClass4 = gameObject.GetComponent<ShipBuild> ().Корабль [3].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper4 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [3];

						GBuildTitanium4 = gameObject.GetComponent<ShipBuild> ().Titanium [3];
						GBuildDilithium4 = gameObject.GetComponent<ShipBuild> ().Dilithium [3];
						GBuildHumans4 = gameObject.GetComponent<ShipBuild> ().Humans [3];

						GBuildBuilder4 = gameObject.GetComponent<ShipBuild> ().Builder [3];
						GBuildMiner4 = gameObject.GetComponent<ShipBuild> ().Miner [3];
						GBuildBaseFleet4 = gameObject.GetComponent<ShipBuild> ().BaseFleet [3];
						GBuildAttackFleet4 = gameObject.GetComponent<ShipBuild> ().AttackFleet [3];
						GBuildScoutFleet4 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [3];

						GBuildOpenTime4 = gameObject.GetComponent<ShipBuild> ().OpenTime [3];
					} else {
						GBuildTime4 = 0;

						GBuildClass4 = "";

						GBuildNumper4 = 0;

						GBuildTitanium4 = 0;
						GBuildDilithium4 = 0;
						GBuildHumans4 = 0;

						GBuildBuilder4 = false;
						GBuildMiner4 = false;
						GBuildBaseFleet4 = false;
						GBuildAttackFleet4 = false;
						GBuildScoutFleet4 = false;

						GBuildOpenTime4 = 0;
					}

					if (GSBuildShipsCount == 5) {
						GBuildTime5 = gameObject.GetComponent<ShipBuild> ().Время [4];

						GBuildClass5 = gameObject.GetComponent<ShipBuild> ().Корабль [4].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper5 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [4];

						GBuildTitanium5 = gameObject.GetComponent<ShipBuild> ().Titanium [4];
						GBuildDilithium5 = gameObject.GetComponent<ShipBuild> ().Dilithium [4];
						GBuildHumans5 = gameObject.GetComponent<ShipBuild> ().Humans [4];

						GBuildBuilder5 = gameObject.GetComponent<ShipBuild> ().Builder [4];
						GBuildMiner5 = gameObject.GetComponent<ShipBuild> ().Miner [4];
						GBuildBaseFleet5 = gameObject.GetComponent<ShipBuild> ().BaseFleet [4];
						GBuildAttackFleet5 = gameObject.GetComponent<ShipBuild> ().AttackFleet [4];
						GBuildScoutFleet5 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [4];

						GBuildOpenTime5 = gameObject.GetComponent<ShipBuild> ().OpenTime [4];
					} else {
						GBuildTime5 = 0;

						GBuildClass5 = "";

						GBuildNumper5 = 0;

						GBuildTitanium5 = 0;
						GBuildDilithium5 = 0;
						GBuildHumans5 = 0;

						GBuildBuilder5 = false;
						GBuildMiner5 = false;
						GBuildBaseFleet5 = false;
						GBuildAttackFleet5 = false;
						GBuildScoutFleet5 = false;

						GBuildOpenTime5 = 0;
					}
				}
				if (_HP.DefenceStarBase) {
					SetAI = gameObject.GetComponent<DefenceStation> ().AI;
					SetFAI = gameObject.GetComponent<DefenceStation> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<DefenceStation> ().AI;
					SetMoveTransform = new Vector3 (0, 0, 0);
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<DefenceStation> ().AI || gameObject.GetComponent<DefenceStation> ().FreandAI) {
						AIOwner = gameObject.GetComponent<DefenceStation> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = 0;
					GSBuildShipsCount = 0;
					GBuildTime1 = 0;

					GBuildClass1 = "";

					GBuildNumper1 = 0;

					GBuildTitanium1 = 0;
					GBuildDilithium1 = 0;
					GBuildHumans1 = 0;

					GBuildBuilder1 = false;
					GBuildMiner1 = false;
					GBuildBaseFleet1 = false;
					GBuildAttackFleet1 = false;
					GBuildScoutFleet1 = false;

					GBuildOpenTime1 = 0;

					GBuildTime2 = 0;

					GBuildClass2 = "";

					GBuildNumper2 = 0;

					GBuildTitanium2 = 0;
					GBuildDilithium2 = 0;
					GBuildHumans2 = 0;

					GBuildBuilder2 = false;
					GBuildMiner2 = false;
					GBuildBaseFleet2 = false;
					GBuildAttackFleet2 = false;
					GBuildScoutFleet2 = false;

					GBuildOpenTime2 = 0;

					GBuildTime3 = 0;

					GBuildClass3 = "";

					GBuildNumper3 = 0;

					GBuildTitanium3 = 0;
					GBuildDilithium3 = 0;
					GBuildHumans3 = 0;

					GBuildBuilder3 = false;
					GBuildMiner3 = false;
					GBuildBaseFleet3 = false;
					GBuildAttackFleet3 = false;
					GBuildScoutFleet3 = false;

					GBuildOpenTime3 = 0;

					GBuildTime4 = 0;

					GBuildClass4 = "";

					GBuildNumper4 = 0;

					GBuildTitanium4 = 0;
					GBuildDilithium4 = 0;
					GBuildHumans4 = 0;

					GBuildBuilder4 = false;
					GBuildMiner4 = false;
					GBuildBaseFleet4 = false;
					GBuildAttackFleet4 = false;
					GBuildScoutFleet4 = false;

					GBuildOpenTime4 = 0;

					GBuildTime5 = 0;

					GBuildClass5 = "";

					GBuildNumper5 = 0;

					GBuildTitanium5 = 0;
					GBuildDilithium5 = 0;
					GBuildHumans5 = 0;

					GBuildBuilder5 = false;
					GBuildMiner5 = false;
					GBuildBaseFleet5 = false;
					GBuildAttackFleet5 = false;
					GBuildScoutFleet5 = false;

					GBuildOpenTime5 = 0;

					GetLevel = 0;
				}
				if (_HP.Magic) {
					SetAI = gameObject.GetComponent<Magic> ().AI;
					SetFAI = gameObject.GetComponent<Magic> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<Magic> ().AI;
					SetMoveTransform = new Vector3 (0, 0, 0);
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<Magic> ().AI || gameObject.GetComponent<Magic> ().FreandAI) {
						AIOwner = gameObject.GetComponent<Magic> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = 0;
					GSBuildShipsCount = 0;
					GBuildTime1 = 0;

					GBuildClass1 = "";

					GBuildNumper1 = 0;

					GBuildTitanium1 = 0;
					GBuildDilithium1 = 0;
					GBuildHumans1 = 0;

					GBuildBuilder1 = false;
					GBuildMiner1 = false;
					GBuildBaseFleet1 = false;
					GBuildAttackFleet1 = false;
					GBuildScoutFleet1 = false;

					GBuildOpenTime1 = 0;

					GBuildTime2 = 0;

					GBuildClass2 = "";

					GBuildNumper2 = 0;

					GBuildTitanium2 = 0;
					GBuildDilithium2 = 0;
					GBuildHumans2 = 0;

					GBuildBuilder2 = false;
					GBuildMiner2 = false;
					GBuildBaseFleet2 = false;
					GBuildAttackFleet2 = false;
					GBuildScoutFleet2 = false;

					GBuildOpenTime2 = 0;

					GBuildTime3 = 0;

					GBuildClass3 = "";

					GBuildNumper3 = 0;

					GBuildTitanium3 = 0;
					GBuildDilithium3 = 0;
					GBuildHumans3 = 0;

					GBuildBuilder3 = false;
					GBuildMiner3 = false;
					GBuildBaseFleet3 = false;
					GBuildAttackFleet3 = false;
					GBuildScoutFleet3 = false;

					GBuildOpenTime3 = 0;

					GBuildTime4 = 0;

					GBuildClass4 = "";

					GBuildNumper4 = 0;

					GBuildTitanium4 = 0;
					GBuildDilithium4 = 0;
					GBuildHumans4 = 0;

					GBuildBuilder4 = false;
					GBuildMiner4 = false;
					GBuildBaseFleet4 = false;
					GBuildAttackFleet4 = false;
					GBuildScoutFleet4 = false;

					GBuildOpenTime4 = 0;

					GBuildTime5 = 0;

					GBuildClass5 = "";

					GBuildNumper5 = 0;

					GBuildTitanium5 = 0;
					GBuildDilithium5 = 0;
					GBuildHumans5 = 0;

					GBuildBuilder5 = false;
					GBuildMiner5 = false;
					GBuildBaseFleet5 = false;
					GBuildAttackFleet5 = false;
					GBuildScoutFleet5 = false;

					GBuildOpenTime5 = 0;

					GetLevel = 0;
				}
				if (_HP.Mining) {
					SetAI = gameObject.GetComponent<Mining> ().AI;
					SetFAI = gameObject.GetComponent<Mining> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<Mining> ().AI;
					SetMoveTransform = new Vector3 (0, 0, 0);
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<Mining> ().AI || gameObject.GetComponent<Mining> ().FreandAI) {
						AIOwner = gameObject.GetComponent<Mining> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = 0;
					GSBuildShipsCount = 0;
					GBuildTime1 = 0;

					GBuildClass1 = "";

					GBuildNumper1 = 0;

					GBuildTitanium1 = 0;
					GBuildDilithium1 = 0;
					GBuildHumans1 = 0;

					GBuildBuilder1 = false;
					GBuildMiner1 = false;
					GBuildBaseFleet1 = false;
					GBuildAttackFleet1 = false;
					GBuildScoutFleet1 = false;

					GBuildOpenTime1 = 0;

					GBuildTime2 = 0;

					GBuildClass2 = "";

					GBuildNumper2 = 0;

					GBuildTitanium2 = 0;
					GBuildDilithium2 = 0;
					GBuildHumans2 = 0;

					GBuildBuilder2 = false;
					GBuildMiner2 = false;
					GBuildBaseFleet2 = false;
					GBuildAttackFleet2 = false;
					GBuildScoutFleet2 = false;

					GBuildOpenTime2 = 0;

					GBuildTime3 = 0;

					GBuildClass3 = "";

					GBuildNumper3 = 0;

					GBuildTitanium3 = 0;
					GBuildDilithium3 = 0;
					GBuildHumans3 = 0;

					GBuildBuilder3 = false;
					GBuildMiner3 = false;
					GBuildBaseFleet3 = false;
					GBuildAttackFleet3 = false;
					GBuildScoutFleet3 = false;

					GBuildOpenTime3 = 0;

					GBuildTime4 = 0;

					GBuildClass4 = "";

					GBuildNumper4 = 0;

					GBuildTitanium4 = 0;
					GBuildDilithium4 = 0;
					GBuildHumans4 = 0;

					GBuildBuilder4 = false;
					GBuildMiner4 = false;
					GBuildBaseFleet4 = false;
					GBuildAttackFleet4 = false;
					GBuildScoutFleet4 = false;

					GBuildOpenTime4 = 0;

					GBuildTime5 = 0;

					GBuildClass5 = "";

					GBuildNumper5 = 0;

					GBuildTitanium5 = 0;
					GBuildDilithium5 = 0;
					GBuildHumans5 = 0;

					GBuildBuilder5 = false;
					GBuildMiner5 = false;
					GBuildBaseFleet5 = false;
					GBuildAttackFleet5 = false;
					GBuildScoutFleet5 = false;
					GBuildOpenTime5 = 0;

					GetLevel = 0;
				}
				if (_HP.PhaserTower) {
					SetAI = gameObject.GetComponent<PhaserTower> ().AI;
					SetFAI = gameObject.GetComponent<PhaserTower> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<PhaserTower> ().AI;
					SetMoveTransform = new Vector3 (0, 0, 0);
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<PhaserTower> ().AI || gameObject.GetComponent<PhaserTower> ().FreandAI) {
						AIOwner = gameObject.GetComponent<PhaserTower> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = 0;
					GSBuildShipsCount = 0;
					GBuildTime1 = 0;

					GBuildClass1 = "";

					GBuildNumper1 = 0;

					GBuildTitanium1 = 0;
					GBuildDilithium1 = 0;
					GBuildHumans1 = 0;

					GBuildBuilder1 = false;
					GBuildMiner1 = false;
					GBuildBaseFleet1 = false;
					GBuildAttackFleet1 = false;
					GBuildScoutFleet1 = false;

					GBuildOpenTime1 = 0;

					GBuildTime2 = 0;

					GBuildClass2 = "";

					GBuildNumper2 = 0;

					GBuildTitanium2 = 0;
					GBuildDilithium2 = 0;
					GBuildHumans2 = 0;

					GBuildBuilder2 = false;
					GBuildMiner2 = false;
					GBuildBaseFleet2 = false;
					GBuildAttackFleet2 = false;
					GBuildScoutFleet2 = false;

					GBuildOpenTime2 = 0;

					GBuildTime3 = 0;

					GBuildClass3 = "";

					GBuildNumper3 = 0;

					GBuildTitanium3 = 0;
					GBuildDilithium3 = 0;
					GBuildHumans3 = 0;

					GBuildBuilder3 = false;
					GBuildMiner3 = false;
					GBuildBaseFleet3 = false;
					GBuildAttackFleet3 = false;
					GBuildScoutFleet3 = false;

					GBuildOpenTime3 = 0;

					GBuildTime4 = 0;

					GBuildClass4 = "";

					GBuildNumper4 = 0;

					GBuildTitanium4 = 0;
					GBuildDilithium4 = 0;
					GBuildHumans4 = 0;

					GBuildBuilder4 = false;
					GBuildMiner4 = false;
					GBuildBaseFleet4 = false;
					GBuildAttackFleet4 = false;
					GBuildScoutFleet4 = false;

					GBuildOpenTime4 = 0;

					GBuildTime5 = 0;

					GBuildClass5 = "";

					GBuildNumper5 = 0;

					GBuildTitanium5 = 0;
					GBuildDilithium5 = 0;
					GBuildHumans5 = 0;

					GBuildBuilder5 = false;
					GBuildMiner5 = false;
					GBuildBaseFleet5 = false;
					GBuildAttackFleet5 = false;
					GBuildScoutFleet5 = false;

					GBuildOpenTime5 = 0;

					GetLevel = 0;
				}
				if (_HP.Sensor) {
					SetAI = gameObject.GetComponent<SensorBuilding> ().AI;
					SetFAI = gameObject.GetComponent<SensorBuilding> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<SensorBuilding> ().AI;
					SetMoveTransform = new Vector3 (0, 0, 0);
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<SensorBuilding> ().AI || gameObject.GetComponent<SensorBuilding> ().FreandAI) {
						AIOwner = gameObject.GetComponent<SensorBuilding> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = 0;
					GSBuildShipsCount = 0;
					GBuildTime1 = 0;

					GBuildClass1 = "";

					GBuildNumper1 = 0;

					GBuildTitanium1 = 0;
					GBuildDilithium1 = 0;
					GBuildHumans1 = 0;

					GBuildBuilder1 = false;
					GBuildMiner1 = false;
					GBuildBaseFleet1 = false;
					GBuildAttackFleet1 = false;
					GBuildScoutFleet1 = false;

					GBuildOpenTime1 = 0;

					GBuildTime2 = 0;

					GBuildClass2 = "";

					GBuildNumper2 = 0;

					GBuildTitanium2 = 0;
					GBuildDilithium2 = 0;
					GBuildHumans2 = 0;

					GBuildBuilder2 = false;
					GBuildMiner2 = false;
					GBuildBaseFleet2 = false;
					GBuildAttackFleet2 = false;
					GBuildScoutFleet2 = false;

					GBuildOpenTime2 = 0;

					GBuildTime3 = 0;

					GBuildClass3 = "";

					GBuildNumper3 = 0;

					GBuildTitanium3 = 0;
					GBuildDilithium3 = 0;
					GBuildHumans3 = 0;

					GBuildBuilder3 = false;
					GBuildMiner3 = false;
					GBuildBaseFleet3 = false;
					GBuildAttackFleet3 = false;
					GBuildScoutFleet3 = false;

					GBuildOpenTime3 = 0;

					GBuildTime4 = 0;

					GBuildClass4 = "";

					GBuildNumper4 = 0;

					GBuildTitanium4 = 0;
					GBuildDilithium4 = 0;
					GBuildHumans4 = 0;

					GBuildBuilder4 = false;
					GBuildMiner4 = false;
					GBuildBaseFleet4 = false;
					GBuildAttackFleet4 = false;
					GBuildScoutFleet4 = false;

					GBuildOpenTime4 = 0;

					GBuildTime5 = 0;

					GBuildClass5 = "";

					GBuildNumper5 = 0;

					GBuildTitanium5 = 0;
					GBuildDilithium5 = 0;
					GBuildHumans5 = 0;

					GBuildBuilder5 = false;
					GBuildMiner5 = false;
					GBuildBaseFleet5 = false;
					GBuildAttackFleet5 = false;
					GBuildScoutFleet5 = false;

					GBuildOpenTime5 = 0;

					GetLevel = 0;
				}
				if (_HP.Shop) {
					if (!DelayComplit) {
						if (DelayTime > 0) {
							DelayTime -= Time.deltaTime;
						}
						if (DelayTime <= 0) {
							LoadShipList ();
							DelayComplit = true;
							DelayTime = 100;
						}
					} else {
						if (gameObject.GetComponent<Shop> ()) {
							if (SetFixID != 0) {
								gameObject.GetComponent<Shop> ().Repair = true;
								gameObject.GetComponent<Shop> ().Ship = GameObject.Find (SetFixID.ToString ()).GetComponent<ObjectID> ().Owner;
								if (Vector3.Distance (gameObject.GetComponent<Shop> ().Ship.transform.position, gameObject.GetComponent<Shop> ().RPoint2.transform.position) < 3) {
									gameObject.GetComponent<Shop> ().R2 = true;
								} else {
									gameObject.GetComponent<Shop> ().R1 = true;
								}
								SetFixID = 0;
							}
						}
					}
					GetLevel = gameObject.GetComponent<Shop> ().lvl;
					SetAI = gameObject.GetComponent<Shop> ().AI;
					SetFAI = gameObject.GetComponent<Shop> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<Shop> ().AI;
					SetMoveTransform = new Vector3 (0, 0, 0);
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<Shop> ().AI || gameObject.GetComponent<Shop> ().FreandAI) {
						AIOwner = gameObject.GetComponent<Shop> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = gameObject.GetComponent<ShipBuild> ().timeBuild;
					GSBuildShipsCount = gameObject.GetComponent<ShipBuild> ().Корабль.Count;
					if (GSBuildShipsCount >= 1) {
						GBuildTime1 = gameObject.GetComponent<ShipBuild> ().Время [0];

						GBuildClass1 = gameObject.GetComponent<ShipBuild> ().Корабль [0].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper1 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [0];

						GBuildTitanium1 = gameObject.GetComponent<ShipBuild> ().Titanium [0];
						GBuildDilithium1 = gameObject.GetComponent<ShipBuild> ().Dilithium [0];
						GBuildHumans1 = gameObject.GetComponent<ShipBuild> ().Humans [0];

						GBuildBuilder1 = gameObject.GetComponent<ShipBuild> ().Builder [0];
						GBuildMiner1 = gameObject.GetComponent<ShipBuild> ().Miner [0];
						GBuildBaseFleet1 = gameObject.GetComponent<ShipBuild> ().BaseFleet [0];
						GBuildAttackFleet1 = gameObject.GetComponent<ShipBuild> ().AttackFleet [0];
						GBuildScoutFleet1 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [0];

						GBuildOpenTime1 = gameObject.GetComponent<ShipBuild> ().OpenTime [0];
					} else {
						GBuildTime1 = 0;

						GBuildClass1 = "";

						GBuildNumper1 = 0;

						GBuildTitanium1 = 0;
						GBuildDilithium1 = 0;
						GBuildHumans1 = 0;

						GBuildBuilder1 = false;
						GBuildMiner1 = false;
						GBuildBaseFleet1 = false;
						GBuildAttackFleet1 = false;
						GBuildScoutFleet1 = false;

						GBuildOpenTime1 = 0;
					}

					if (GSBuildShipsCount >= 2) {
						GBuildTime2 = gameObject.GetComponent<ShipBuild> ().Время [1];

						GBuildClass2 = gameObject.GetComponent<ShipBuild> ().Корабль [1].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper2 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [1];

						GBuildTitanium2 = gameObject.GetComponent<ShipBuild> ().Titanium [1];
						GBuildDilithium2 = gameObject.GetComponent<ShipBuild> ().Dilithium [1];
						GBuildHumans2 = gameObject.GetComponent<ShipBuild> ().Humans [1];

						GBuildBuilder2 = gameObject.GetComponent<ShipBuild> ().Builder [1];
						GBuildMiner2 = gameObject.GetComponent<ShipBuild> ().Miner [1];
						GBuildBaseFleet2 = gameObject.GetComponent<ShipBuild> ().BaseFleet [1];
						GBuildAttackFleet2 = gameObject.GetComponent<ShipBuild> ().AttackFleet [1];
						GBuildScoutFleet2 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [1];

						GBuildOpenTime2 = gameObject.GetComponent<ShipBuild> ().OpenTime [1];
					} else {
						GBuildTime2 = 0;

						GBuildClass2 = "";

						GBuildNumper2 = 0;

						GBuildTitanium2 = 0;
						GBuildDilithium2 = 0;
						GBuildHumans2 = 0;

						GBuildBuilder2 = false;
						GBuildMiner2 = false;
						GBuildBaseFleet2 = false;
						GBuildAttackFleet2 = false;
						GBuildScoutFleet2 = false;

						GBuildOpenTime2 = 0;
					}

					if (GSBuildShipsCount >= 3) {
						GBuildTime3 = gameObject.GetComponent<ShipBuild> ().Время [2];

						GBuildClass3 = gameObject.GetComponent<ShipBuild> ().Корабль [2].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper3 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [2];

						GBuildTitanium3 = gameObject.GetComponent<ShipBuild> ().Titanium [2];
						GBuildDilithium3 = gameObject.GetComponent<ShipBuild> ().Dilithium [2];
						GBuildHumans3 = gameObject.GetComponent<ShipBuild> ().Humans [2];

						GBuildBuilder3 = gameObject.GetComponent<ShipBuild> ().Builder [2];
						GBuildMiner3 = gameObject.GetComponent<ShipBuild> ().Miner [2];
						GBuildBaseFleet3 = gameObject.GetComponent<ShipBuild> ().BaseFleet [2];
						GBuildAttackFleet3 = gameObject.GetComponent<ShipBuild> ().AttackFleet [2];
						GBuildScoutFleet3 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [2];

						GBuildOpenTime3 = gameObject.GetComponent<ShipBuild> ().OpenTime [2];
					} else {
						GBuildTime3 = 0;

						GBuildClass3 = "";

						GBuildNumper3 = 0;

						GBuildTitanium3 = 0;
						GBuildDilithium3 = 0;
						GBuildHumans3 = 0;

						GBuildBuilder3 = false;
						GBuildMiner3 = false;
						GBuildBaseFleet3 = false;
						GBuildAttackFleet3 = false;
						GBuildScoutFleet3 = false;

						GBuildOpenTime3 = 0;
					}

					if (GSBuildShipsCount >= 4) {
						GBuildTime4 = gameObject.GetComponent<ShipBuild> ().Время [3];

						GBuildClass4 = gameObject.GetComponent<ShipBuild> ().Корабль [3].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper4 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [3];

						GBuildTitanium4 = gameObject.GetComponent<ShipBuild> ().Titanium [3];
						GBuildDilithium4 = gameObject.GetComponent<ShipBuild> ().Dilithium [3];
						GBuildHumans4 = gameObject.GetComponent<ShipBuild> ().Humans [3];

						GBuildBuilder4 = gameObject.GetComponent<ShipBuild> ().Builder [3];
						GBuildMiner4 = gameObject.GetComponent<ShipBuild> ().Miner [3];
						GBuildBaseFleet4 = gameObject.GetComponent<ShipBuild> ().BaseFleet [3];
						GBuildAttackFleet4 = gameObject.GetComponent<ShipBuild> ().AttackFleet [3];
						GBuildScoutFleet4 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [3];

						GBuildOpenTime4 = gameObject.GetComponent<ShipBuild> ().OpenTime [3];
					} else {
						GBuildTime4 = 0;

						GBuildClass4 = "";

						GBuildNumper4 = 0;

						GBuildTitanium4 = 0;
						GBuildDilithium4 = 0;
						GBuildHumans4 = 0;

						GBuildBuilder4 = false;
						GBuildMiner4 = false;
						GBuildBaseFleet4 = false;
						GBuildAttackFleet4 = false;
						GBuildScoutFleet4 = false;

						GBuildOpenTime4 = 0;
					}

					if (GSBuildShipsCount == 5) {
						GBuildTime5 = gameObject.GetComponent<ShipBuild> ().Время [4];

						GBuildClass5 = gameObject.GetComponent<ShipBuild> ().Корабль [4].GetComponent<ObjectDataToSave> ().Class;

						GBuildNumper5 = gameObject.GetComponent<ShipBuild> ().ListofNumbers [4];

						GBuildTitanium5 = gameObject.GetComponent<ShipBuild> ().Titanium [4];
						GBuildDilithium5 = gameObject.GetComponent<ShipBuild> ().Dilithium [4];
						GBuildHumans5 = gameObject.GetComponent<ShipBuild> ().Humans [4];

						GBuildBuilder5 = gameObject.GetComponent<ShipBuild> ().Builder [4];
						GBuildMiner5 = gameObject.GetComponent<ShipBuild> ().Miner [4];
						GBuildBaseFleet5 = gameObject.GetComponent<ShipBuild> ().BaseFleet [4];
						GBuildAttackFleet5 = gameObject.GetComponent<ShipBuild> ().AttackFleet [4];
						GBuildScoutFleet5 = gameObject.GetComponent<ShipBuild> ().ScoutFleet [4];

						GBuildOpenTime5 = gameObject.GetComponent<ShipBuild> ().OpenTime [4];
					} else {
						GBuildTime5 = 0;

						GBuildClass5 = "";

						GBuildNumper5 = 0;

						GBuildTitanium5 = 0;
						GBuildDilithium5 = 0;
						GBuildHumans5 = 0;

						GBuildBuilder5 = false;
						GBuildMiner5 = false;
						GBuildBaseFleet5 = false;
						GBuildAttackFleet5 = false;
						GBuildScoutFleet5 = false;

						GBuildOpenTime5 = 0;
					}
				}
				if (_HP.ShopStation) {
					SetAI = gameObject.GetComponent<ShopStation> ().AI;
					SetFAI = gameObject.GetComponent<ShopStation> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<ShopStation> ().AI;
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<ShopStation> ().AI || gameObject.GetComponent<ShopStation> ().FreandAI) {
						AIOwner = gameObject.GetComponent<ShopStation> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = 0;
					GSBuildShipsCount = 0;
					GBuildTime1 = 0;

					GBuildClass1 = "";

					GBuildNumper1 = 0;

					GBuildTitanium1 = 0;
					GBuildDilithium1 = 0;
					GBuildHumans1 = 0;

					GBuildBuilder1 = false;
					GBuildMiner1 = false;
					GBuildBaseFleet1 = false;
					GBuildAttackFleet1 = false;
					GBuildScoutFleet1 = false;

					GBuildOpenTime1 = 0;

					GBuildTime2 = 0;

					GBuildClass2 = "";

					GBuildNumper2 = 0;

					GBuildTitanium2 = 0;
					GBuildDilithium2 = 0;
					GBuildHumans2 = 0;

					GBuildBuilder2 = false;
					GBuildMiner2 = false;
					GBuildBaseFleet2 = false;
					GBuildAttackFleet2 = false;
					GBuildScoutFleet2 = false;

					GBuildOpenTime2 = 0;

					GBuildTime3 = 0;

					GBuildClass3 = "";

					GBuildNumper3 = 0;

					GBuildTitanium3 = 0;
					GBuildDilithium3 = 0;
					GBuildHumans3 = 0;

					GBuildBuilder3 = false;
					GBuildMiner3 = false;
					GBuildBaseFleet3 = false;
					GBuildAttackFleet3 = false;
					GBuildScoutFleet3 = false;

					GBuildOpenTime3 = 0;

					GBuildTime4 = 0;

					GBuildClass4 = "";

					GBuildNumper4 = 0;

					GBuildTitanium4 = 0;
					GBuildDilithium4 = 0;
					GBuildHumans4 = 0;

					GBuildBuilder4 = false;
					GBuildMiner4 = false;
					GBuildBaseFleet4 = false;
					GBuildAttackFleet4 = false;
					GBuildScoutFleet4 = false;

					GBuildOpenTime4 = 0;

					GBuildTime5 = 0;

					GBuildClass5 = "";

					GBuildNumper5 = 0;

					GBuildTitanium5 = 0;
					GBuildDilithium5 = 0;
					GBuildHumans5 = 0;

					GBuildBuilder5 = false;
					GBuildMiner5 = false;
					GBuildBaseFleet5 = false;
					GBuildAttackFleet5 = false;
					GBuildScoutFleet5 = false;

					GBuildOpenTime5 = 0;

					GetLevel = 0;
				}
				if (_HP.RStation) {
					SetAI = gameObject.GetComponent<RStation> ().AI;
					SetFAI = gameObject.GetComponent<RStation> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<RStation> ().AI;
					SetMoveTransform = new Vector3 (0, 0, 0);
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<RStation> ().AI || gameObject.GetComponent<RStation> ().FreandAI) {
						AIOwner = gameObject.GetComponent<RStation> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = 0;
					GSBuildShipsCount = 0;
					GBuildTime1 = 0;

					GBuildClass1 = "";

					GBuildNumper1 = 0;

					GBuildTitanium1 = 0;
					GBuildDilithium1 = 0;
					GBuildHumans1 = 0;

					GBuildBuilder1 = false;
					GBuildMiner1 = false;
					GBuildBaseFleet1 = false;
					GBuildAttackFleet1 = false;
					GBuildScoutFleet1 = false;

					GBuildOpenTime1 = 0;

					GBuildTime2 = 0;

					GBuildClass2 = "";

					GBuildNumper2 = 0;

					GBuildTitanium2 = 0;
					GBuildDilithium2 = 0;
					GBuildHumans2 = 0;

					GBuildBuilder2 = false;
					GBuildMiner2 = false;
					GBuildBaseFleet2 = false;
					GBuildAttackFleet2 = false;
					GBuildScoutFleet2 = false;

					GBuildOpenTime2 = 0;

					GBuildTime3 = 0;

					GBuildClass3 = "";

					GBuildNumper3 = 0;

					GBuildTitanium3 = 0;
					GBuildDilithium3 = 0;
					GBuildHumans3 = 0;

					GBuildBuilder3 = false;
					GBuildMiner3 = false;
					GBuildBaseFleet3 = false;
					GBuildAttackFleet3 = false;
					GBuildScoutFleet3 = false;

					GBuildOpenTime3 = 0;

					GBuildTime4 = 0;

					GBuildClass4 = "";

					GBuildNumper4 = 0;

					GBuildTitanium4 = 0;
					GBuildDilithium4 = 0;
					GBuildHumans4 = 0;

					GBuildBuilder4 = false;
					GBuildMiner4 = false;
					GBuildBaseFleet4 = false;
					GBuildAttackFleet4 = false;
					GBuildScoutFleet4 = false;

					GBuildOpenTime4 = 0;

					GBuildTime5 = 0;

					GBuildClass5 = "";

					GBuildNumper5 = 0;

					GBuildTitanium5 = 0;
					GBuildDilithium5 = 0;
					GBuildHumans5 = 0;

					GBuildBuilder5 = false;
					GBuildMiner5 = false;
					GBuildBaseFleet5 = false;
					GBuildAttackFleet5 = false;
					GBuildScoutFleet5 = false;

					GBuildOpenTime5 = 0;

					GetLevel = 0;
				}
				if (_HP.Tower) {
					SetAI = gameObject.GetComponent<Tower> ().AI;
					SetFAI = gameObject.GetComponent<Tower> ().FreandAI;
					SetReadyShip = gameObject.GetComponent<Tower> ().AI;
					SetMoveTransform = new Vector3 (0, 0, 0);
					Name = gameObject.name.ToString ();
					if (gameObject.GetComponent<Tower> ().AI || gameObject.GetComponent<Tower> ().FreandAI) {
						AIOwner = gameObject.GetComponent<Tower> ().Owner;
					} else {
						AIOwner = gameObject;
					}
					GBuildCurTime = 0;
					GSBuildShipsCount = 0;
					GBuildTime1 = 0;

					GBuildClass1 = "";

					GBuildNumper1 = 0;

					GBuildTitanium1 = 0;
					GBuildDilithium1 = 0;
					GBuildHumans1 = 0;

					GBuildBuilder1 = false;
					GBuildMiner1 = false;
					GBuildBaseFleet1 = false;
					GBuildAttackFleet1 = false;
					GBuildScoutFleet1 = false;

					GBuildOpenTime1 = 0;

					GBuildTime2 = 0;

					GBuildClass2 = "";

					GBuildNumper2 = 0;

					GBuildTitanium2 = 0;
					GBuildDilithium2 = 0;
					GBuildHumans2 = 0;

					GBuildBuilder2 = false;
					GBuildMiner2 = false;
					GBuildBaseFleet2 = false;
					GBuildAttackFleet2 = false;
					GBuildScoutFleet2 = false;

					GBuildOpenTime2 = 0;

					GBuildTime3 = 0;

					GBuildClass3 = "";

					GBuildNumper3 = 0;

					GBuildTitanium3 = 0;
					GBuildDilithium3 = 0;
					GBuildHumans3 = 0;

					GBuildBuilder3 = false;
					GBuildMiner3 = false;
					GBuildBaseFleet3 = false;
					GBuildAttackFleet3 = false;
					GBuildScoutFleet3 = false;

					GBuildOpenTime3 = 0;

					GBuildTime4 = 0;

					GBuildClass4 = "";

					GBuildNumper4 = 0;

					GBuildTitanium4 = 0;
					GBuildDilithium4 = 0;
					GBuildHumans4 = 0;

					GBuildBuilder4 = false;
					GBuildMiner4 = false;
					GBuildBaseFleet4 = false;
					GBuildAttackFleet4 = false;
					GBuildScoutFleet4 = false;

					GBuildOpenTime4 = 0;

					GBuildTime5 = 0;

					GBuildClass5 = "";

					GBuildNumper5 = 0;

					GBuildTitanium5 = 0;
					GBuildDilithium5 = 0;
					GBuildHumans5 = 0;

					GBuildBuilder5 = false;
					GBuildMiner5 = false;
					GBuildBaseFleet5 = false;
					GBuildAttackFleet5 = false;
					GBuildScoutFleet5 = false;

					GBuildOpenTime5 = 0;

					GetLevel = 0;
				}
			} else if (gameObject.GetComponent<BuildingStationScript> ()) {
				SetAI = gameObject.GetComponent<BuildingStationScript> ().AI;
				SetFAI = gameObject.GetComponent<BuildingStationScript> ().FreandAI;
				SetReadyShip = gameObject.GetComponent<BuildingStationScript> ().AI;
				SetMoveTransform = new Vector3 (0, 0, 0);
				Name = gameObject.name.ToString ();
				if (gameObject.GetComponent<BuildingStationScript> ().AI || gameObject.GetComponent<BuildingStationScript> ().FreandAI) {
					AIOwner = gameObject.GetComponent<BuildingStationScript> ().Owner;
				} else {
					AIOwner = gameObject;
				}
				GBuildCurTime = 0;
				GSBuildShipsCount = 0;
				GBuildTime1 = 0;

				GBuildClass1 = "";

				GBuildNumper1 = 0;

				GBuildTitanium1 = 0;
				GBuildDilithium1 = 0;
				GBuildHumans1 = 0;

				GBuildBuilder1 = false;
				GBuildMiner1 = false;
				GBuildBaseFleet1 = false;
				GBuildAttackFleet1 = false;
				GBuildScoutFleet1 = false;

				GBuildOpenTime1 = 0;

				GBuildTime2 = 0;

				GBuildClass2 = "";

				GBuildNumper2 = 0;

				GBuildTitanium2 = 0;
				GBuildDilithium2 = 0;
				GBuildHumans2 = 0;

				GBuildBuilder2 = false;
				GBuildMiner2 = false;
				GBuildBaseFleet2 = false;
				GBuildAttackFleet2 = false;
				GBuildScoutFleet2 = false;

				GBuildOpenTime2 = 0;

				GBuildTime3 = 0;

				GBuildClass3 = "";

				GBuildNumper3 = 0;

				GBuildTitanium3 = 0;
				GBuildDilithium3 = 0;
				GBuildHumans3 = 0;

				GBuildBuilder3 = false;
				GBuildMiner3 = false;
				GBuildBaseFleet3 = false;
				GBuildAttackFleet3 = false;
				GBuildScoutFleet3 = false;

				GBuildOpenTime3 = 0;

				GBuildTime4 = 0;

				GBuildClass4 = "";

				GBuildNumper4 = 0;

				GBuildTitanium4 = 0;
				GBuildDilithium4 = 0;
				GBuildHumans4 = 0;

				GBuildBuilder4 = false;
				GBuildMiner4 = false;
				GBuildBaseFleet4 = false;
				GBuildAttackFleet4 = false;
				GBuildScoutFleet4 = false;

				GBuildOpenTime4 = 0;

				GBuildTime5 = 0;

				GBuildClass5 = "";

				GBuildNumper5 = 0;

				GBuildTitanium5 = 0;
				GBuildDilithium5 = 0;
				GBuildHumans5 = 0;

				GBuildBuilder5 = false;
				GBuildMiner5 = false;
				GBuildBaseFleet5 = false;
				GBuildAttackFleet5 = false;
				GBuildScoutFleet5 = false;

				GBuildOpenTime5 = 0;

				GetLevel = 0;
			}
			if (gameObject.GetComponent<CameraMove> ()) {
				SetAI = false;
				SetFAI = false;
				SetReadyShip = false;
				SetMoveTransform = new Vector3 (0, 0, 0);
				Name = gameObject.name.ToString ();
				AIOwner = gameObject;

				GBuildCurTime = 0;
				GSBuildShipsCount = 0;
				GBuildTime1 = 0;

				GBuildClass1 = "";

				GBuildNumper1 = 0;

				GBuildTitanium1 = 0;
				GBuildDilithium1 = 0;
				GBuildHumans1 = 0;

				GBuildBuilder1 = false;
				GBuildMiner1 = false;
				GBuildBaseFleet1 = false;
				GBuildAttackFleet1 = false;
				GBuildScoutFleet1 = false;

				GBuildOpenTime1 = 0;

				GBuildTime2 = 0;

				GBuildClass2 = "";

				GBuildNumper2 = 0;

				GBuildTitanium2 = 0;
				GBuildDilithium2 = 0;
				GBuildHumans2 = 0;

				GBuildBuilder2 = false;
				GBuildMiner2 = false;
				GBuildBaseFleet2 = false;
				GBuildAttackFleet2 = false;
				GBuildScoutFleet2 = false;

				GBuildOpenTime2 = 0;

				GBuildTime3 = 0;

				GBuildClass3 = "";

				GBuildNumper3 = 0;

				GBuildTitanium3 = 0;
				GBuildDilithium3 = 0;
				GBuildHumans3 = 0;

				GBuildBuilder3 = false;
				GBuildMiner3 = false;
				GBuildBaseFleet3 = false;
				GBuildAttackFleet3 = false;
				GBuildScoutFleet3 = false;

				GBuildOpenTime3 = 0;

				GBuildTime4 = 0;

				GBuildClass4 = "";

				GBuildNumper4 = 0;

				GBuildTitanium4 = 0;
				GBuildDilithium4 = 0;
				GBuildHumans4 = 0;

				GBuildBuilder4 = false;
				GBuildMiner4 = false;
				GBuildBaseFleet4 = false;
				GBuildAttackFleet4 = false;
				GBuildScoutFleet4 = false;

				GBuildOpenTime4 = 0;

				GBuildTime5 = 0;

				GBuildClass5 = "";

				GBuildNumper5 = 0;

				GBuildTitanium5 = 0;
				GBuildDilithium5 = 0;
				GBuildHumans5 = 0;

				GBuildBuilder5 = false;
				GBuildMiner5 = false;
				GBuildBaseFleet5 = false;
				GBuildAttackFleet5 = false;
				GBuildScoutFleet5 = false;

				GBuildOpenTime5 = 0;

				GetLevel = 0;
			}
		}
	}
	//Сдесь все элементы превращаются в атрибуты.
	public XElement GetElement(){
		//Каждый элемент имеет имя которое нужно для последующих загрузок сохранений. Все данные нужно вводить вручную.
		if (!gameObject.GetComponent<BuildingStationScript> () && !gameObject.GetComponent<CameraMove> ()) {
			XAttribute x = new XAttribute ("X", transform.position.x);
			XAttribute y = new XAttribute ("Y", transform.position.y);
			XAttribute z = new XAttribute ("Z", transform.position.z);

			XAttribute Rx = new XAttribute ("Rx", RotationVector.x);
			XAttribute Ry = new XAttribute ("Ry", RotationVector.y);
			XAttribute Rz = new XAttribute ("Rz", RotationVector.z);

			XAttribute MoveX = new XAttribute ("MoveX", SetMoveTransform.x);
			XAttribute MoveY = new XAttribute ("MoveY", SetMoveTransform.y);
			XAttribute MoveZ = new XAttribute ("MoveZ", SetMoveTransform.z);

			XAttribute health = new XAttribute ("health", _HP.curHealth);
			XAttribute shild = new XAttribute ("shild", _HP.CurСилаПоля);
			XAttribute energy = new XAttribute ("energy", _HP.curEnergy);

			XAttribute crew = new XAttribute ("crew", _HP.curCrew);
			//Тут жизки и всё остальное.
			XAttribute ImpulseSystemHealth = new XAttribute ("ImpulseSystemHealth", _HP.curImpulseSystemHealth);
			XAttribute LifeSupportSystemHealth = new XAttribute ("LifeSupportSystemHealth", _HP.curLifeSupportSystemHealth);
			XAttribute PrimaryWeaponSystemHealth = new XAttribute ("PrimaryWeaponSystemHealth", _HP.curPrimaryWeaponSystemHealth);
			XAttribute SensorsSystemHealth = new XAttribute ("SensorsSystemHealth", _HP.curSensorsSystemHealth);
			XAttribute TractorBeamSystemHealth = new XAttribute ("TractorBeamSystemHealth", _HP.curTractorBeamSystemHealth);
			XAttribute WarpEngingSystemHealth = new XAttribute ("WarpEngingSystemHealth", _HP.curWarpEngingSystemHealth);
			XAttribute WarpCoreHealth = new XAttribute ("WarpCoreHealth", _HP.curWarpCoreHealth);
			XAttribute SecondaryWeaponSystemHealth = new XAttribute ("SecondaryWeaponSystemHealth", _HP.curSecondaryWeaponSystemHealth);

			XAttribute ID = new XAttribute ("ID", GetID);
			XAttribute TargetID = new XAttribute ("TargetID", GetTargetID);

			XAttribute T1 = new XAttribute ("T1", _HP.Team1);
			XAttribute T2 = new XAttribute ("T2", _HP.Team2);
			XAttribute T3 = new XAttribute ("T3", _HP.Team3);
			XAttribute T4 = new XAttribute ("T4", _HP.Team4);
			XAttribute T5 = new XAttribute ("T5", _HP.Team5);
			XAttribute T6 = new XAttribute ("T6", _HP.Team6);
			XAttribute T7 = new XAttribute ("T7", _HP.Team7);
			XAttribute T8 = new XAttribute ("T8", _HP.Team8);
			XAttribute T9 = new XAttribute ("T9", _HP.Team9);
			XAttribute T0 = new XAttribute ("T0", _HP.Team0);

			XAttribute Level = new XAttribute ("Level", GetLevel);

			XAttribute CapNum = new XAttribute ("CapNum", GetCapNum);
			XAttribute Race = new XAttribute ("Race", GetRace);

			XAttribute BuildCurTime = new XAttribute ("BuildCurTime", GBuildCurTime);
			XAttribute BuildShipCount = new XAttribute ("BuildShipCount", GSBuildShipsCount);

			XAttribute BuildTime1 = new XAttribute ("BuildTime1", GBuildTime1);
			XAttribute BuildClass1 = new XAttribute ("BuildClass1", GBuildClass1);
			XAttribute BuildNumper1 = new XAttribute ("BuildNumper1", GBuildNumper1);
			XAttribute BuildTitanium1 = new XAttribute ("BuildTitanium1", GBuildTitanium1);
			XAttribute BuildDilithium1 = new XAttribute ("BuildDilithium1", GBuildDilithium1);
			XAttribute BuildHumans1 = new XAttribute ("BuildHumans1", GBuildHumans1);
			XAttribute BuildBuilder1 = new XAttribute ("BuildBuilder1", GBuildBuilder1);
			XAttribute BuildMiner1 = new XAttribute ("BuildMiner1", GBuildMiner1);
			XAttribute BuildBaseFleet1 = new XAttribute ("BuildBaseFleet1", GBuildBaseFleet1);
			XAttribute BuildAttackFleet1 = new XAttribute ("BuildAttackFleet1", GBuildAttackFleet1);
			XAttribute BuildScoutFleet1 = new XAttribute ("BuildScoutFleet1", GBuildScoutFleet1);
			XAttribute BuildOpenTime1 = new XAttribute ("BuildOpenTime1", GBuildOpenTime1);

			XAttribute BuildTime2 = new XAttribute ("BuildTime2", GBuildTime2);
			XAttribute BuildClass2 = new XAttribute ("BuildClass2", GBuildClass2);
			XAttribute BuildNumper2 = new XAttribute ("BuildNumper2", GBuildNumper2);
			XAttribute BuildTitanium2 = new XAttribute ("BuildTitanium2", GBuildTitanium2);
			XAttribute BuildDilithium2 = new XAttribute ("BuildDilithium2", GBuildDilithium2);
			XAttribute BuildHumans2 = new XAttribute ("BuildHumans2", GBuildHumans2);
			XAttribute BuildBuilder2 = new XAttribute ("BuildBuilder2", GBuildBuilder2);
			XAttribute BuildMiner2 = new XAttribute ("BuildMiner2", GBuildMiner2);
			XAttribute BuildBaseFleet2 = new XAttribute ("BuildBaseFleet2", GBuildBaseFleet2);
			XAttribute BuildAttackFleet2 = new XAttribute ("BuildAttackFleet2", GBuildAttackFleet2);
			XAttribute BuildScoutFleet2 = new XAttribute ("BuildScoutFleet2", GBuildScoutFleet2);
			XAttribute BuildOpenTime2 = new XAttribute ("BuildOpenTime2", GBuildOpenTime2);

			XAttribute BuildTime3 = new XAttribute ("BuildTime3", GBuildTime3);
			XAttribute BuildClass3 = new XAttribute ("BuildClass3", GBuildClass3);
			XAttribute BuildNumper3 = new XAttribute ("BuildNumper3", GBuildNumper3);
			XAttribute BuildTitanium3 = new XAttribute ("BuildTitanium3", GBuildTitanium3);
			XAttribute BuildDilithium3 = new XAttribute ("BuildDilithium3", GBuildDilithium3);
			XAttribute BuildHumans3 = new XAttribute ("BuildHumans3", GBuildHumans3);
			XAttribute BuildBuilder3 = new XAttribute ("BuildBuilder3", GBuildBuilder3);
			XAttribute BuildMiner3 = new XAttribute ("BuildMiner3", GBuildMiner3);
			XAttribute BuildBaseFleet3 = new XAttribute ("BuildBaseFleet3", GBuildBaseFleet3);
			XAttribute BuildAttackFleet3 = new XAttribute ("BuildAttackFleet3", GBuildAttackFleet3);
			XAttribute BuildScoutFleet3 = new XAttribute ("BuildScoutFleet3", GBuildScoutFleet3);
			XAttribute BuildOpenTime3 = new XAttribute ("BuildOpenTime3", GBuildOpenTime3);

			XAttribute BuildTime4 = new XAttribute ("BuildTime4", GBuildTime4);
			XAttribute BuildClass4 = new XAttribute ("BuildClass4", GBuildClass4);
			XAttribute BuildNumper4 = new XAttribute ("BuildNumper4", GBuildNumper4);
			XAttribute BuildTitanium4 = new XAttribute ("BuildTitanium4", GBuildTitanium4);
			XAttribute BuildDilithium4 = new XAttribute ("BuildDilithium4", GBuildDilithium4);
			XAttribute BuildHumans4 = new XAttribute ("BuildHumans4", GBuildHumans4);
			XAttribute BuildBuilder4 = new XAttribute ("BuildBuilder4", GBuildBuilder4);
			XAttribute BuildMiner4 = new XAttribute ("BuildMiner4", GBuildMiner4);
			XAttribute BuildBaseFleet4 = new XAttribute ("BuildBaseFleet4", GBuildBaseFleet4);
			XAttribute BuildAttackFleet4 = new XAttribute ("BuildAttackFleet4", GBuildAttackFleet4);
			XAttribute BuildScoutFleet4 = new XAttribute ("BuildScoutFleet4", GBuildScoutFleet4);
			XAttribute BuildOpenTime4 = new XAttribute ("BuildOpenTime4", GBuildOpenTime4);

			XAttribute BuildTime5 = new XAttribute ("BuildTime5", GBuildTime5);
			XAttribute BuildClass5 = new XAttribute ("BuildClass5", GBuildClass5);
			XAttribute BuildNumper5 = new XAttribute ("BuildNumper5", GBuildNumper5);
			XAttribute BuildTitanium5 = new XAttribute ("BuildTitanium5", GBuildTitanium5);
			XAttribute BuildDilithium5 = new XAttribute ("BuildDilithium5", GBuildDilithium5);
			XAttribute BuildHumans5 = new XAttribute ("BuildHumans5", GBuildHumans5);
			XAttribute BuildBuilder5 = new XAttribute ("BuildBuilder5", GBuildBuilder5);
			XAttribute BuildMiner5 = new XAttribute ("BuildMiner5", GBuildMiner5);
			XAttribute BuildBaseFleet5 = new XAttribute ("BuildBaseFleet5", GBuildBaseFleet5);
			XAttribute BuildAttackFleet5 = new XAttribute ("BuildAttackFleet5", GBuildAttackFleet5);
			XAttribute BuildScoutFleet5 = new XAttribute ("BuildScoutFleet5", GBuildScoutFleet5);
			XAttribute BuildOpenTime5 = new XAttribute ("BuildOpenTime5", GBuildOpenTime5);

			XAttribute AI = new XAttribute ("AI", SetAI);
			XAttribute FAI = new XAttribute ("FAI", SetFAI);
			XAttribute ReadyShip = new XAttribute ("RS", SetReadyShip);
			XAttribute SSName = new XAttribute ("SSName", Name);

			XAttribute Owner = new XAttribute ("Owner", AIOwner.name);

			XAttribute Assimilated = new XAttribute ("Assimilated", GetAssimilated);

			XAttribute IsMine = new XAttribute ("IsMine", GetIsMine);
			XAttribute DilMine = new XAttribute ("DilMine", GetDilMine);
			XAttribute TitMine = new XAttribute ("TitMine", GetTitMine);
			XAttribute CrewMine = new XAttribute ("CrewMine", GetCrewMine);

			XAttribute FixID = new XAttribute ("FixID", GetFixID);
			//Эта строка собирает элемент.
			XElement element = new XElement ("instance", Class, x, y, z, Rx, Ry, Rz, health, shild, energy, crew, ImpulseSystemHealth, LifeSupportSystemHealth, PrimaryWeaponSystemHealth, SensorsSystemHealth, TractorBeamSystemHealth, WarpEngingSystemHealth, WarpCoreHealth, SecondaryWeaponSystemHealth, T1, T2, T3, T4, T5, T6, T7, T8, T9, T0, AI, FAI, ReadyShip, SSName, Owner, 
				                   BuildCurTime, BuildShipCount, BuildTime1, BuildTime2, BuildTime3, BuildTime4, BuildTime5, 
				                   BuildClass1, BuildClass2, BuildClass3, BuildClass4, BuildClass5, 
				                   BuildNumper1, BuildNumper2, BuildNumper3, BuildNumper4, BuildNumper5, 
				                   BuildTitanium1, BuildTitanium2, BuildTitanium3, BuildTitanium4, BuildTitanium5, 
				                   BuildDilithium1, BuildDilithium2, BuildDilithium3, BuildDilithium4, BuildDilithium5, 
				                   BuildHumans1, BuildHumans2, BuildHumans3, BuildHumans4, BuildHumans5, 
				                   BuildBuilder1, BuildBuilder2, BuildBuilder3, BuildBuilder4, BuildBuilder5, 
				                   BuildMiner1, BuildMiner2, BuildMiner3, BuildMiner4, BuildMiner5, 
				                   BuildBaseFleet1, BuildBaseFleet2, BuildBaseFleet3, BuildBaseFleet4, BuildBaseFleet5, 
				                   BuildAttackFleet1, BuildAttackFleet2, BuildAttackFleet3, BuildAttackFleet4, BuildAttackFleet5, 
				                   BuildScoutFleet1, BuildScoutFleet2, BuildScoutFleet3, BuildScoutFleet4, BuildScoutFleet5, 
				                   BuildOpenTime1, BuildOpenTime2, BuildOpenTime3, BuildOpenTime4, BuildOpenTime5,
				MoveX, MoveY, MoveZ, ID, TargetID, Assimilated, Level, CapNum, Race, IsMine, DilMine, TitMine, CrewMine,
				FixID);
			RElement = element;
		} 
		if (gameObject.GetComponent<BuildingStationScript> ()) {
			XAttribute x = new XAttribute ("X", transform.position.x);
			XAttribute y = new XAttribute ("Y", transform.position.y);
			XAttribute z = new XAttribute ("Z", transform.position.z);

			XAttribute Rx = new XAttribute ("Rx", RotationVector.x);
			XAttribute Ry = new XAttribute ("Ry", RotationVector.y);
			XAttribute Rz = new XAttribute ("Rz", RotationVector.z);

			XAttribute MoveX = new XAttribute ("MoveX", SetMoveTransform.x);
			XAttribute MoveY = new XAttribute ("MoveY", SetMoveTransform.y);
			XAttribute MoveZ = new XAttribute ("MoveZ", SetMoveTransform.z);

			XAttribute health = new XAttribute ("health", gameObject.GetComponent<BuildingStationScript> ().Timer);
			XAttribute shild = new XAttribute ("shild", gameObject.GetComponent<BuildingStationScript> ().Timer);
			XAttribute energy = new XAttribute ("energy", gameObject.GetComponent<BuildingStationScript> ().Timer);

			XAttribute crew = new XAttribute ("crew", gameObject.GetComponent<BuildingStationScript> ().Timer);
			//Тут жизки и всё остальное.
			XAttribute ImpulseSystemHealth = new XAttribute ("ImpulseSystemHealth", gameObject.GetComponent<BuildingStationScript> ().Timer);
			XAttribute LifeSupportSystemHealth = new XAttribute ("LifeSupportSystemHealth", gameObject.GetComponent<BuildingStationScript> ().Timer);
			XAttribute PrimaryWeaponSystemHealth = new XAttribute ("PrimaryWeaponSystemHealth", gameObject.GetComponent<BuildingStationScript> ().Timer);
			XAttribute SensorsSystemHealth = new XAttribute ("SensorsSystemHealth", gameObject.GetComponent<BuildingStationScript> ().Timer);
			XAttribute TractorBeamSystemHealth = new XAttribute ("TractorBeamSystemHealth", gameObject.GetComponent<BuildingStationScript> ().Timer);
			XAttribute WarpEngingSystemHealth = new XAttribute ("WarpEngingSystemHealth", gameObject.GetComponent<BuildingStationScript> ().Timer);
			XAttribute WarpCoreHealth = new XAttribute ("WarpCoreHealth", gameObject.GetComponent<BuildingStationScript> ().Timer);
			XAttribute SecondaryWeaponSystemHealth = new XAttribute ("SecondaryWeaponSystemHealth", gameObject.GetComponent<BuildingStationScript> ().Timer);

			XAttribute ID = new XAttribute ("ID", GetID);
			XAttribute TargetID = new XAttribute ("TargetID", GetTargetID);

			XAttribute T1 = new XAttribute ("T1", gameObject.GetComponent<BuildingStationScript> ().AI);
			XAttribute T2 = new XAttribute ("T2", gameObject.GetComponent<BuildingStationScript> ().AI);
			XAttribute T3 = new XAttribute ("T3", gameObject.GetComponent<BuildingStationScript> ().AI);
			XAttribute T4 = new XAttribute ("T4", gameObject.GetComponent<BuildingStationScript> ().AI);
			XAttribute T5 = new XAttribute ("T5", gameObject.GetComponent<BuildingStationScript> ().AI);
			XAttribute T6 = new XAttribute ("T6", gameObject.GetComponent<BuildingStationScript> ().AI);
			XAttribute T7 = new XAttribute ("T7", gameObject.GetComponent<BuildingStationScript> ().AI);
			XAttribute T8 = new XAttribute ("T8", gameObject.GetComponent<BuildingStationScript> ().AI);
			XAttribute T9 = new XAttribute ("T9", gameObject.GetComponent<BuildingStationScript> ().AI);
			XAttribute T0 = new XAttribute ("T0", gameObject.GetComponent<BuildingStationScript> ().AI);

			XAttribute Level = new XAttribute ("Level", GetLevel);

			XAttribute CapNum = new XAttribute ("CapNum", GetCapNum);
			XAttribute Race = new XAttribute ("Race", GetRace);

			XAttribute BuildCurTime = new XAttribute ("BuildCurTime", GBuildCurTime);
			XAttribute BuildShipCount = new XAttribute ("BuildShipCount", GSBuildShipsCount);

			XAttribute BuildTime1 = new XAttribute ("BuildTime1", GBuildTime1);
			XAttribute BuildClass1 = new XAttribute ("BuildClass1", GBuildClass1);
			XAttribute BuildNumper1 = new XAttribute ("BuildNumper1", GBuildNumper1);
			XAttribute BuildTitanium1 = new XAttribute ("BuildTitanium1", GBuildTitanium1);
			XAttribute BuildDilithium1 = new XAttribute ("BuildDilithium1", GBuildDilithium1);
			XAttribute BuildHumans1 = new XAttribute ("BuildHumans1", GBuildHumans1);
			XAttribute BuildBuilder1 = new XAttribute ("BuildBuilder1", GBuildBuilder1);
			XAttribute BuildMiner1 = new XAttribute ("BuildMiner1", GBuildMiner1);
			XAttribute BuildBaseFleet1 = new XAttribute ("BuildBaseFleet1", GBuildBaseFleet1);
			XAttribute BuildAttackFleet1 = new XAttribute ("BuildAttackFleet1", GBuildAttackFleet1);
			XAttribute BuildScoutFleet1 = new XAttribute ("BuildScoutFleet1", GBuildScoutFleet1);
			XAttribute BuildOpenTime1 = new XAttribute ("BuildOpenTime1", GBuildOpenTime1);

			XAttribute BuildTime2 = new XAttribute ("BuildTime2", GBuildTime2);
			XAttribute BuildClass2 = new XAttribute ("BuildClass2", GBuildClass2);
			XAttribute BuildNumper2 = new XAttribute ("BuildNumper2", GBuildNumper2);
			XAttribute BuildTitanium2 = new XAttribute ("BuildTitanium2", GBuildTitanium2);
			XAttribute BuildDilithium2 = new XAttribute ("BuildDilithium2", GBuildDilithium2);
			XAttribute BuildHumans2 = new XAttribute ("BuildHumans2", GBuildHumans2);
			XAttribute BuildBuilder2 = new XAttribute ("BuildBuilder2", GBuildBuilder2);
			XAttribute BuildMiner2 = new XAttribute ("BuildMiner2", GBuildMiner2);
			XAttribute BuildBaseFleet2 = new XAttribute ("BuildBaseFleet2", GBuildBaseFleet2);
			XAttribute BuildAttackFleet2 = new XAttribute ("BuildAttackFleet2", GBuildAttackFleet2);
			XAttribute BuildScoutFleet2 = new XAttribute ("BuildScoutFleet2", GBuildScoutFleet2);
			XAttribute BuildOpenTime2 = new XAttribute ("BuildOpenTime2", GBuildOpenTime2);

			XAttribute BuildTime3 = new XAttribute ("BuildTime3", GBuildTime3);
			XAttribute BuildClass3 = new XAttribute ("BuildClass3", GBuildClass3);
			XAttribute BuildNumper3 = new XAttribute ("BuildNumper3", GBuildNumper3);
			XAttribute BuildTitanium3 = new XAttribute ("BuildTitanium3", GBuildTitanium3);
			XAttribute BuildDilithium3 = new XAttribute ("BuildDilithium3", GBuildDilithium3);
			XAttribute BuildHumans3 = new XAttribute ("BuildHumans3", GBuildHumans3);
			XAttribute BuildBuilder3 = new XAttribute ("BuildBuilder3", GBuildBuilder3);
			XAttribute BuildMiner3 = new XAttribute ("BuildMiner3", GBuildMiner3);
			XAttribute BuildBaseFleet3 = new XAttribute ("BuildBaseFleet3", GBuildBaseFleet3);
			XAttribute BuildAttackFleet3 = new XAttribute ("BuildAttackFleet3", GBuildAttackFleet3);
			XAttribute BuildScoutFleet3 = new XAttribute ("BuildScoutFleet3", GBuildScoutFleet3);
			XAttribute BuildOpenTime3 = new XAttribute ("BuildOpenTime3", GBuildOpenTime3);

			XAttribute BuildTime4 = new XAttribute ("BuildTime4", GBuildTime4);
			XAttribute BuildClass4 = new XAttribute ("BuildClass4", GBuildClass4);
			XAttribute BuildNumper4 = new XAttribute ("BuildNumper4", GBuildNumper4);
			XAttribute BuildTitanium4 = new XAttribute ("BuildTitanium4", GBuildTitanium4);
			XAttribute BuildDilithium4 = new XAttribute ("BuildDilithium4", GBuildDilithium4);
			XAttribute BuildHumans4 = new XAttribute ("BuildHumans4", GBuildHumans4);
			XAttribute BuildBuilder4 = new XAttribute ("BuildBuilder4", GBuildBuilder4);
			XAttribute BuildMiner4 = new XAttribute ("BuildMiner4", GBuildMiner4);
			XAttribute BuildBaseFleet4 = new XAttribute ("BuildBaseFleet4", GBuildBaseFleet4);
			XAttribute BuildAttackFleet4 = new XAttribute ("BuildAttackFleet4", GBuildAttackFleet4);
			XAttribute BuildScoutFleet4 = new XAttribute ("BuildScoutFleet4", GBuildScoutFleet4);
			XAttribute BuildOpenTime4 = new XAttribute ("BuildOpenTime4", GBuildOpenTime4);

			XAttribute BuildTime5 = new XAttribute ("BuildTime5", GBuildTime5);
			XAttribute BuildClass5 = new XAttribute ("BuildClass5", GBuildClass5);
			XAttribute BuildNumper5 = new XAttribute ("BuildNumper5", GBuildNumper5);
			XAttribute BuildTitanium5 = new XAttribute ("BuildTitanium5", GBuildTitanium5);
			XAttribute BuildDilithium5 = new XAttribute ("BuildDilithium5", GBuildDilithium5);
			XAttribute BuildHumans5 = new XAttribute ("BuildHumans5", GBuildHumans5);
			XAttribute BuildBuilder5 = new XAttribute ("BuildBuilder5", GBuildBuilder5);
			XAttribute BuildMiner5 = new XAttribute ("BuildMiner5", GBuildMiner5);
			XAttribute BuildBaseFleet5 = new XAttribute ("BuildBaseFleet5", GBuildBaseFleet5);
			XAttribute BuildAttackFleet5 = new XAttribute ("BuildAttackFleet5", GBuildAttackFleet5);
			XAttribute BuildScoutFleet5 = new XAttribute ("BuildScoutFleet5", GBuildScoutFleet5);
			XAttribute BuildOpenTime5 = new XAttribute ("BuildOpenTime5", GBuildOpenTime5);

			XAttribute AI = new XAttribute ("AI", SetAI);
			XAttribute FAI = new XAttribute ("FAI", SetFAI);
			XAttribute ReadyShip = new XAttribute ("RS", SetReadyShip);
			XAttribute SSName = new XAttribute ("SSName", Name);

			XAttribute Owner = new XAttribute ("Owner", AIOwner.name);

			XAttribute Assimilated = new XAttribute ("Assimilated", GetAssimilated);

			XAttribute IsMine = new XAttribute ("IsMine", GetIsMine);
			XAttribute DilMine = new XAttribute ("DilMine", GetDilMine);
			XAttribute TitMine = new XAttribute ("TitMine", GetTitMine);
			XAttribute CrewMine = new XAttribute ("CrewMine", GetCrewMine);

			XAttribute FixID = new XAttribute ("FixID", GetFixID);
			//Эта строка собирает элемент.
			XElement element = new XElement ("instance", Class, x, y, z, Rx, Ry, Rz, health, shild, energy, crew, ImpulseSystemHealth, LifeSupportSystemHealth, PrimaryWeaponSystemHealth, SensorsSystemHealth, TractorBeamSystemHealth, WarpEngingSystemHealth, WarpCoreHealth, SecondaryWeaponSystemHealth, T1, T2, T3, T4, T5, T6, T7, T8, T9, T0, AI, FAI, ReadyShip, SSName, Owner, 
				                   BuildCurTime, BuildShipCount, BuildTime1, BuildTime2, BuildTime3, BuildTime4, BuildTime5, 
				                   BuildClass1, BuildClass2, BuildClass3, BuildClass4, BuildClass5, 
				                   BuildNumper1, BuildNumper2, BuildNumper3, BuildNumper4, BuildNumper5, 
				                   BuildTitanium1, BuildTitanium2, BuildTitanium3, BuildTitanium4, BuildTitanium5, 
				                   BuildDilithium1, BuildDilithium2, BuildDilithium3, BuildDilithium4, BuildDilithium5, 
				                   BuildHumans1, BuildHumans2, BuildHumans3, BuildHumans4, BuildHumans5, 
				                   BuildBuilder1, BuildBuilder2, BuildBuilder3, BuildBuilder4, BuildBuilder5, 
				                   BuildMiner1, BuildMiner2, BuildMiner3, BuildMiner4, BuildMiner5, 
				                   BuildBaseFleet1, BuildBaseFleet2, BuildBaseFleet3, BuildBaseFleet4, BuildBaseFleet5, 
				                   BuildAttackFleet1, BuildAttackFleet2, BuildAttackFleet3, BuildAttackFleet4, BuildAttackFleet5, 
				                   BuildScoutFleet1, BuildScoutFleet2, BuildScoutFleet3, BuildScoutFleet4, BuildScoutFleet5, 
				                   BuildOpenTime1, BuildOpenTime2, BuildOpenTime3, BuildOpenTime4, BuildOpenTime5,
				MoveX, MoveY, MoveZ, ID, TargetID, Assimilated, Level, CapNum, Race, IsMine, DilMine, TitMine, CrewMine,
				FixID); 
			RElement = element;
		}
		if(gameObject.GetComponent<CameraMove>()){
			XAttribute x = new XAttribute ("X", transform.position.x);
			XAttribute y = new XAttribute ("Y", transform.position.y);
			XAttribute z = new XAttribute ("Z", transform.position.z);

			XAttribute Rx = new XAttribute ("Rx", RotationVector.x);
			XAttribute Ry = new XAttribute ("Ry", RotationVector.y);
			XAttribute Rz = new XAttribute ("Rz", RotationVector.z);

			XAttribute MoveX = new XAttribute ("MoveX", SetMoveTransform.x);
			XAttribute MoveY = new XAttribute ("MoveY", SetMoveTransform.y);
			XAttribute MoveZ = new XAttribute ("MoveZ", SetMoveTransform.z);

			XAttribute health = new XAttribute ("health", 0);
			XAttribute shild = new XAttribute ("shild", 0);
			XAttribute energy = new XAttribute ("energy", 0);

			XAttribute crew = new XAttribute ("crew", 0);
			//Тут жизки и всё остальное.
			XAttribute ImpulseSystemHealth = new XAttribute ("ImpulseSystemHealth", 0);
			XAttribute LifeSupportSystemHealth = new XAttribute ("LifeSupportSystemHealth", 0);
			XAttribute PrimaryWeaponSystemHealth = new XAttribute ("PrimaryWeaponSystemHealth", 0);
			XAttribute SensorsSystemHealth = new XAttribute ("SensorsSystemHealth", 0);
			XAttribute TractorBeamSystemHealth = new XAttribute ("TractorBeamSystemHealth", 0);
			XAttribute WarpEngingSystemHealth = new XAttribute ("WarpEngingSystemHealth", 0);
			XAttribute WarpCoreHealth = new XAttribute ("WarpCoreHealth", 0);
			XAttribute SecondaryWeaponSystemHealth = new XAttribute ("SecondaryWeaponSystemHealth", 0);

			XAttribute ID = new XAttribute ("ID", GetID);
			XAttribute TargetID = new XAttribute ("TargetID", GetTargetID);

			XAttribute T1 = new XAttribute ("T1", false);
			XAttribute T2 = new XAttribute ("T2", false);
			XAttribute T3 = new XAttribute ("T3", false);
			XAttribute T4 = new XAttribute ("T4", false);
			XAttribute T5 = new XAttribute ("T5", false);
			XAttribute T6 = new XAttribute ("T6", false);
			XAttribute T7 = new XAttribute ("T7", false);
			XAttribute T8 = new XAttribute ("T8", false);
			XAttribute T9 = new XAttribute ("T9", false);
			XAttribute T0 = new XAttribute ("T0", false);

			XAttribute Level = new XAttribute ("Level", GetLevel);

			XAttribute CapNum = new XAttribute ("CapNum", GetCapNum);
			XAttribute Race = new XAttribute ("Race", GetRace);

			XAttribute BuildCurTime = new XAttribute ("BuildCurTime", GBuildCurTime);
			XAttribute BuildShipCount = new XAttribute ("BuildShipCount", GSBuildShipsCount);

			XAttribute BuildTime1 = new XAttribute ("BuildTime1", GBuildTime1);
			XAttribute BuildClass1 = new XAttribute ("BuildClass1", GBuildClass1);
			XAttribute BuildNumper1 = new XAttribute ("BuildNumper1", GBuildNumper1);
			XAttribute BuildTitanium1 = new XAttribute ("BuildTitanium1", GBuildTitanium1);
			XAttribute BuildDilithium1 = new XAttribute ("BuildDilithium1", GBuildDilithium1);
			XAttribute BuildHumans1 = new XAttribute ("BuildHumans1", GBuildHumans1);
			XAttribute BuildBuilder1 = new XAttribute ("BuildBuilder1", GBuildBuilder1);
			XAttribute BuildMiner1 = new XAttribute ("BuildMiner1", GBuildMiner1);
			XAttribute BuildBaseFleet1 = new XAttribute ("BuildBaseFleet1", GBuildBaseFleet1);
			XAttribute BuildAttackFleet1 = new XAttribute ("BuildAttackFleet1", GBuildAttackFleet1);
			XAttribute BuildScoutFleet1 = new XAttribute ("BuildScoutFleet1", GBuildScoutFleet1);
			XAttribute BuildOpenTime1 = new XAttribute ("BuildOpenTime1", GBuildOpenTime1);

			XAttribute BuildTime2 = new XAttribute ("BuildTime2", GBuildTime2);
			XAttribute BuildClass2 = new XAttribute ("BuildClass2", GBuildClass2);
			XAttribute BuildNumper2 = new XAttribute ("BuildNumper2", GBuildNumper2);
			XAttribute BuildTitanium2 = new XAttribute ("BuildTitanium2", GBuildTitanium2);
			XAttribute BuildDilithium2 = new XAttribute ("BuildDilithium2", GBuildDilithium2);
			XAttribute BuildHumans2 = new XAttribute ("BuildHumans2", GBuildHumans2);
			XAttribute BuildBuilder2 = new XAttribute ("BuildBuilder2", GBuildBuilder2);
			XAttribute BuildMiner2 = new XAttribute ("BuildMiner2", GBuildMiner2);
			XAttribute BuildBaseFleet2 = new XAttribute ("BuildBaseFleet2", GBuildBaseFleet2);
			XAttribute BuildAttackFleet2 = new XAttribute ("BuildAttackFleet2", GBuildAttackFleet2);
			XAttribute BuildScoutFleet2 = new XAttribute ("BuildScoutFleet2", GBuildScoutFleet2);
			XAttribute BuildOpenTime2 = new XAttribute ("BuildOpenTime2", GBuildOpenTime2);

			XAttribute BuildTime3 = new XAttribute ("BuildTime3", GBuildTime3);
			XAttribute BuildClass3 = new XAttribute ("BuildClass3", GBuildClass3);
			XAttribute BuildNumper3 = new XAttribute ("BuildNumper3", GBuildNumper3);
			XAttribute BuildTitanium3 = new XAttribute ("BuildTitanium3", GBuildTitanium3);
			XAttribute BuildDilithium3 = new XAttribute ("BuildDilithium3", GBuildDilithium3);
			XAttribute BuildHumans3 = new XAttribute ("BuildHumans3", GBuildHumans3);
			XAttribute BuildBuilder3 = new XAttribute ("BuildBuilder3", GBuildBuilder3);
			XAttribute BuildMiner3 = new XAttribute ("BuildMiner3", GBuildMiner3);
			XAttribute BuildBaseFleet3 = new XAttribute ("BuildBaseFleet3", GBuildBaseFleet3);
			XAttribute BuildAttackFleet3 = new XAttribute ("BuildAttackFleet3", GBuildAttackFleet3);
			XAttribute BuildScoutFleet3 = new XAttribute ("BuildScoutFleet3", GBuildScoutFleet3);
			XAttribute BuildOpenTime3 = new XAttribute ("BuildOpenTime3", GBuildOpenTime3);

			XAttribute BuildTime4 = new XAttribute ("BuildTime4", GBuildTime4);
			XAttribute BuildClass4 = new XAttribute ("BuildClass4", GBuildClass4);
			XAttribute BuildNumper4 = new XAttribute ("BuildNumper4", GBuildNumper4);
			XAttribute BuildTitanium4 = new XAttribute ("BuildTitanium4", GBuildTitanium4);
			XAttribute BuildDilithium4 = new XAttribute ("BuildDilithium4", GBuildDilithium4);
			XAttribute BuildHumans4 = new XAttribute ("BuildHumans4", GBuildHumans4);
			XAttribute BuildBuilder4 = new XAttribute ("BuildBuilder4", GBuildBuilder4);
			XAttribute BuildMiner4 = new XAttribute ("BuildMiner4", GBuildMiner4);
			XAttribute BuildBaseFleet4 = new XAttribute ("BuildBaseFleet4", GBuildBaseFleet4);
			XAttribute BuildAttackFleet4 = new XAttribute ("BuildAttackFleet4", GBuildAttackFleet4);
			XAttribute BuildScoutFleet4 = new XAttribute ("BuildScoutFleet4", GBuildScoutFleet4);
			XAttribute BuildOpenTime4 = new XAttribute ("BuildOpenTime4", GBuildOpenTime4);

			XAttribute BuildTime5 = new XAttribute ("BuildTime5", GBuildTime5);
			XAttribute BuildClass5 = new XAttribute ("BuildClass5", GBuildClass5);
			XAttribute BuildNumper5 = new XAttribute ("BuildNumper5", GBuildNumper5);
			XAttribute BuildTitanium5 = new XAttribute ("BuildTitanium5", GBuildTitanium5);
			XAttribute BuildDilithium5 = new XAttribute ("BuildDilithium5", GBuildDilithium5);
			XAttribute BuildHumans5 = new XAttribute ("BuildHumans5", GBuildHumans5);
			XAttribute BuildBuilder5 = new XAttribute ("BuildBuilder5", GBuildBuilder5);
			XAttribute BuildMiner5 = new XAttribute ("BuildMiner5", GBuildMiner5);
			XAttribute BuildBaseFleet5 = new XAttribute ("BuildBaseFleet5", GBuildBaseFleet5);
			XAttribute BuildAttackFleet5 = new XAttribute ("BuildAttackFleet5", GBuildAttackFleet5);
			XAttribute BuildScoutFleet5 = new XAttribute ("BuildScoutFleet5", GBuildScoutFleet5);
			XAttribute BuildOpenTime5 = new XAttribute ("BuildOpenTime5", GBuildOpenTime5);

			XAttribute AI = new XAttribute ("AI", SetAI);
			XAttribute FAI = new XAttribute ("FAI", SetFAI);
			XAttribute ReadyShip = new XAttribute ("RS", SetReadyShip);
			XAttribute SSName = new XAttribute ("SSName", Name);

			XAttribute Owner = new XAttribute ("Owner", AIOwner.name);

			XAttribute Assimilated = new XAttribute ("Assimilated", GetAssimilated);

			XAttribute IsMine = new XAttribute ("IsMine", GetIsMine);
			XAttribute DilMine = new XAttribute ("DilMine", GetDilMine);
			XAttribute TitMine = new XAttribute ("TitMine", GetTitMine);
			XAttribute CrewMine = new XAttribute ("CrewMine", GetCrewMine);
			//Эта строка собирает элемент.

			XAttribute FixID = new XAttribute ("FixID", GetFixID);
			XElement element = new XElement ("instance", Class, x, y, z, Rx, Ry, Rz, health, shild, energy, crew, ImpulseSystemHealth, LifeSupportSystemHealth, PrimaryWeaponSystemHealth, SensorsSystemHealth, TractorBeamSystemHealth, WarpEngingSystemHealth, WarpCoreHealth, SecondaryWeaponSystemHealth, T1, T2, T3, T4, T5, T6, T7, T8, T9, T0, AI, FAI, ReadyShip, SSName, Owner, 
				BuildCurTime, BuildShipCount, BuildTime1, BuildTime2, BuildTime3, BuildTime4, BuildTime5, 
				BuildClass1, BuildClass2, BuildClass3, BuildClass4, BuildClass5, 
				BuildNumper1, BuildNumper2, BuildNumper3, BuildNumper4, BuildNumper5, 
				BuildTitanium1, BuildTitanium2, BuildTitanium3, BuildTitanium4, BuildTitanium5, 
				BuildDilithium1, BuildDilithium2, BuildDilithium3, BuildDilithium4, BuildDilithium5, 
				BuildHumans1, BuildHumans2, BuildHumans3, BuildHumans4, BuildHumans5, 
				BuildBuilder1, BuildBuilder2, BuildBuilder3, BuildBuilder4, BuildBuilder5, 
				BuildMiner1, BuildMiner2, BuildMiner3, BuildMiner4, BuildMiner5, 
				BuildBaseFleet1, BuildBaseFleet2, BuildBaseFleet3, BuildBaseFleet4, BuildBaseFleet5, 
				BuildAttackFleet1, BuildAttackFleet2, BuildAttackFleet3, BuildAttackFleet4, BuildAttackFleet5, 
				BuildScoutFleet1, BuildScoutFleet2, BuildScoutFleet3, BuildScoutFleet4, BuildScoutFleet5, 
				BuildOpenTime1, BuildOpenTime2, BuildOpenTime3, BuildOpenTime4, BuildOpenTime5,
				MoveX, MoveY, MoveZ, ID, TargetID, Assimilated, Level, CapNum, Race, IsMine, DilMine, TitMine, CrewMine,
				FixID); 
			RElement = element;
		}
		return RElement;
	}

	public void DestroySelf(){
		Destroy (gameObject);
	}
}